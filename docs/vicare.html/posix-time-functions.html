<html lang="en">
<head>
<title>posix time functions - Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="posix-time.html#posix-time" title="posix time">
<link rel="prev" href="posix-time-itimerspec.html#posix-time-itimerspec" title="posix time itimerspec">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.2d18 of Vicare Scheme, an
R6RS compliant native compiler for the Scheme language, producing
single threaded programs running on Intel x86 32-bit processors, with
experimental support for 64-bit machines.  _Vicare_ is pronounced
the etruscan way.

The package is distributed under the terms of the GNU General Public
License (GPL) and can be downloaded from:

               `http://code.google.com/p/vicare-scheme/'


or:

            `http://github.com/marcomaggi/vicare/downloads'


the home page of the project is at:

              `http://marcomaggi.github.com/vicare.html'


development takes place at:

                `http://github.com/marcomaggi/vicare/'


and, as a backup, at:

                     `http://gitorious.org/vicare'


this project has a mailing list:

             `http://groups.google.com/group/vicare-users'


Copyright (C) 2010-2012 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

This document is derived from the original Ikarus documentation by the
Vicare Scheme contributors.

     This program is free software: you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     version 3 as published by the Free Software Foundation.

     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program.  If not, see
     `http://www.gnu.org/licenses/'.

Trademarks used herein are the property of their respective owners.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="posix-time-functions"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="posix-time-itimerspec.html#posix-time-itimerspec">posix time itimerspec</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="posix-time.html#posix-time">posix time</a>
<hr>
</div>

<h4 class="subsection">5.17.7 Date and time functions</h4>

<div class="defun">
&mdash; Function: <b>clock</b><var><a name="index-clock-1062"></a></var><br>
<blockquote><p>Interface to the C function <code>clock()</code>, <a href="../libc/CPU-Time.html#CPU-Time">clock</a>. 
If successful return an exact integer representing the CPU time for the
calling process expressed in clock ticks; if the clock time is not
available return false. 
</p></blockquote></div>

<!--  -->
<div class="defun">
&mdash; Function: <b>times</b><var><a name="index-times-1063"></a></var><br>
<blockquote><p>Interface to the C function <code>times()</code>, <a href="../libc/Processor-Time.html#Processor-Time">times</a>.  If successful return an instance of <code>struct-tms</code>
representing the current processor time, else return false. 
</p></blockquote></div>

<!--  -->
<div class="defun">
&mdash; Function: <b>time</b><var><a name="index-time-1064"></a></var><br>
<blockquote><p>Interface to the C function <code>time()</code>, <a href="../libc/Simple-Calendar-Time.html#Simple-Calendar-Time">time</a>.  If successful return the calendar time as an exact
integer, else return false. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>gettimeofday</b><var><a name="index-gettimeofday-1065"></a></var><br>
<blockquote><p>Interface to the C function <code>gettimeofday()</code>,
<a href="../libc/High_002dResolution-Calendar.html#High_002dResolution-Calendar">gettimeofday</a>.  Acquire the current
time.  If successful return an instance of <code>struct-timeval</code>, else
raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>localtime</b><var> time<a name="index-localtime-1066"></a></var><br>
<blockquote><p>Interface to the C function <code>localtime()</code>, <a href="../libc/Broken_002ddown-Time.html#Broken_002ddown-Time">localtime</a>.  Given an exact integer <var>time</var> representing the
local time as returned by the <code>time</code> function: build and return an
instance of <code>struct-tm</code> representing the same time in human
readable form; if an error occurs raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>gmtime</b><var> time<a name="index-gmtime-1067"></a></var><br>
<blockquote><p>Interface to the C function <code>gmtime()</code>, <a href="../libc/Broken_002ddown-Time.html#Broken_002ddown-Time">gmtime</a>.  Given an exact integer <var>time</var> representing the <acronym>UTC</acronym> time
as returned by the <code>time</code> function: build and return an instance of
<code>struct-tm</code> representing the same time in human readable form; if
an error occurs raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>timelocal</b><var> tm<a name="index-timelocal-1068"></a></var><br>
<blockquote><p>Interface to the C function <code>timelocal()</code>, <a href="../libc/Broken_002ddown-Time.html#Broken_002ddown-Time">timelocal</a>.  Given a reference to a <code>struct-rm</code>, <var>tm</var>,
representing a local broken time, convert it into a time value as
returned by <code>time()</code>.  If successful return an exact integer
representing the time value, else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>timegm</b><var> tm<a name="index-timegm-1069"></a></var><br>
<blockquote><p>Interface to the C function <code>timegm()</code>, <a href="../libc/Broken_002ddown-Time.html#Broken_002ddown-Time">timegm</a>.  Given a reference to a <code>struct-rm</code>, <var>tm</var>,
representing a <acronym>UTC</acronym> broken time, convert it into a time value as
returned by <code>time()</code>.  If successful return an exact integer
representing the time value, else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>strftime</b><var> template tm<a name="index-strftime-1070"></a></var><br>
&mdash; Function: <b>strftime/string</b><var> template tm<a name="index-strftime_002fstring-1071"></a></var><br>
<blockquote><p>Interface to the C function <code>strftime()</code>, <a href="../libc/Formatting-Calendar-Time.html#Formatting-Calendar-Time">strftime</a>.  Given a bytevector <var>template</var> holding an
<acronym>ASCII</acronym> coded format string and a <code>struct-tm</code> instance <var>tm</var>:
build a formatted time string; the resulting time string can be at most
4096 bytes wide.  If successful <code>strftime</code> returns a
bytevector holding the time string in <acronym>ASCII</acronym> coding and
<code>strftime/string</code> returns a Scheme string, else raise an exception. 
</p></blockquote></div>

<!--  -->
<div class="defun">
&mdash; Function: <b>nanosleep</b><var> secs nsecs<a name="index-nanosleep-1072"></a></var><br>
<blockquote><p>Interface to the C function <code>nanosleep()</code>, <a href="../libc/Sleeping.html#Sleeping">nanosleep</a>.  Halt the current process for the specified amount of time.

        <p>The count of seconds <var>secs</var> must be an exact integer in the range
[0, 2^32); the count of nanoseconds <var>nsecs</var> must be an exact
integer in the range [0, 999999999].

        <p>If successful and the requested time is elapsed: return a pair whose car
is false and whose cdr is false.  If successful and the sleeping was
interrupted by an interprocess signal: return a pair whose car is an
exact integer representing the count of remaining seconds and whose cdr
is an exact integer representing the count of remaining nanoseconds.  If
an error occurs an exception is raised. 
</p></blockquote></div>

<!--  -->
<div class="defun">
&mdash; Function: <b>setitimer</b><var> which itimerval<a name="index-setitimer-1073"></a></var><br>
<blockquote><p>Interface to the C function <code>setitimer()</code>, <a href="../libc/Setting-an-Alarm.html#Setting-an-Alarm">setitimer</a>.  Set the timer specified by <var>which</var> according to
<var>itimerval</var>.  If successful return unspecified values, else raise an
exception.

        <p><var>which</var> must be a fixnum representing one of the constants:
<code>ITIMER_REAL</code>, <code>ITIMER_VIRTUAL</code>, <code>ITIMER_PROF</code>.

        <p><var>itimerval</var> must be an instance of <code>struct-itimerval</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>getitimer</b><var> which<a name="index-getitimer-1074"></a></var><br>
<blockquote><p>Interface to the C function <code>getitimer()</code>, <a href="../libc/Setting-an-Alarm.html#Setting-an-Alarm">getitimer</a>.  Build and return a new <code>struct-itimerval</code>
representing the current timer. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>alarm</b><var> seconds<a name="index-alarm-1075"></a></var><br>
<blockquote><p>Interface to the C function <code>alarm()</code>, <a href="../libc/Setting-an-Alarm.html#Setting-an-Alarm">alarm</a>.  Set the real&ndash;time timer to expire in <var>seconds</var>.  Return an
exact integer representing how many seconds remain before the previous
alarm would have been sent. 
</p></blockquote></div>

<!--  -->
   <p>The following are the real&ndash;time clock functions.  They are available
when Vicare is linked with the <code>rt</code> library.

   <blockquote>
<strong>NOTE</strong> On <acronym>GNU</acronym>+Linux systems the argument <var>clock-id</var> to the
<code>clock-*</code> functions can be one among:

<pre class="example">     CLOCK_REALTIME
     CLOCK_MONOTONIC                 CLOCK_MONOTONIC_RAW
     CLOCK_PROCESS_CPUTIME_ID        CLOCK_THREAD_CPUTIME_ID
</pre>
   <p class="noindent">or a value returned by <code>clock-getcpuclockid</code>.  The code assumes
that clock identifiers of type <code>clockid_t</code> can be safely converted
to C language <code>long</code> values. 
</blockquote>

<div class="defun">
&mdash; Function: <b>clock-getres</b><var> clock-id time<a name="index-clock_002dgetres-1076"></a></var><br>
<blockquote><p>Interface to the C function <code>clock-getres()</code>, see the manual page
<code>clock-getres(2)</code>.  Find the resolution of the clock selected by
the fixnum <var>clock-id</var> and store it in <var>time</var>, which must be an
instance of <code>struct-timespec</code>.  If successful return <var>time</var>
itself, else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>clock-gettime</b><var> clock-id time<a name="index-clock_002dgettime-1077"></a></var><br>
<blockquote><p>Interface to the C function <code>clock-gettime()</code>, see the manual page
<code>clock-gettime(2)</code>.  Retrieve the time of the clock selected by the
fixnum <var>clock-id</var> and store it in <var>time</var>, which must be an
instance of <code>struct-timespec</code>.  If successful return <var>time</var>
itself, else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>clock-settime</b><var> clock-id time<a name="index-clock_002dsettime-1078"></a></var><br>
<blockquote><p>Interface to the C function <code>clock-settime()</code>, see the manual page
<code>clock-settime(2)</code>.  Set the time of the clock selected by the
fixnum <var>clock-id</var> acquiring it from <var>time</var>, which must be an
instance of <code>struct-timespec</code>.  If successful return <var>time</var>
itself, else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>clock-getcpuclockid</b><var> pid<a name="index-clock_002dgetcpuclockid-1079"></a></var><br>
<blockquote><p>Interface to the C function <code>clock_getcpuclockid()</code>, see the manual
page <code>clock_getcpuclockid(3)</code>.  Obtain the identifier of a process'
<acronym>CPU</acronym>&ndash;time clock; if successful return an exact integer
representing the clock identifier, else raise an exception.  <var>pid</var>
must be a fixnum representing the process identifier (<acronym>PID</acronym>). 
</p></blockquote></div>

<!-- page -->
   </body></html>

