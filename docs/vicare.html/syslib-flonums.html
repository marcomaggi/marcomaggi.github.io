<html lang="en">
<head>
<title>syslib flonums - Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="syslib.html#syslib" title="syslib">
<link rel="prev" href="syslib-bignums.html#syslib-bignums" title="syslib bignums">
<link rel="next" href="syslib-ratnums.html#syslib-ratnums" title="syslib ratnums">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d0 of Vicare Scheme, an
R6RS compliant native compiler for the Scheme language, producing
single threaded programs running on Intel x86 32-bit processors, with
experimental support for 64-bit machines.  _Vicare_ is pronounced
the etruscan way.

The package, including its documentation, is distributed under the terms
of the GNU General Public License (GPL) and can be downloaded
from:

        `http://sourceforge.net/projects/vicare-scheme/files/'


the home page of the project is at:

              `http://marcomaggi.github.com/vicare.html'


development takes place at:

                `http://github.com/marcomaggi/vicare/'


and, as a backup, at:

                     `http://gitorious.org/vicare'


and at:

           `http://sourceforge.net/projects/vicare-scheme/'


this project has a mailing list:

             `http://groups.google.com/group/vicare-users'


Copyright (C) 2010-2013 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

This document is derived from the original Ikarus documentation by the
Vicare Scheme contributors, see the ``History'' appendix for details.

     This program is free software: you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     version 3 as published by the Free Software Foundation.

     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program.  If not, see
     `http://www.gnu.org/licenses/'.

Trademarks used herein are the property of their respective owners.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="syslib-flonums"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="syslib-ratnums.html#syslib-ratnums">syslib ratnums</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="syslib-bignums.html#syslib-bignums">syslib bignums</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="syslib.html#syslib">syslib</a>
<hr>
</div>

<h3 class="section">9.4 Low level flonum operations</h3>

<p><a name="index-g_t_0040library_007bikarus-system-_0024flonums_007d_002c-library-1814"></a><a name="index-Library-_0040library_007bikarus-system-_0024flonums_007d-1815"></a>

   <p>The arguments <var>fl</var> to these operations must be flonums, the
arguments <var>fx</var> must be fixnums.  The following bindings are exported
by the <code>(ikarus system $flonums)</code> library.  <a href="iklib-numerics.html#iklib-numerics">iklib numerics</a>
for more functions acting on flonums.

<div class="defun">
&mdash; Unsafe Operation: <b>$make-flonum</b><var><a name="index-g_t_0024make_002dflonum-1816"></a></var><br>
<blockquote><p>Allocate a new flonum memory block and return a reference to it.  Does
not initialise the data area. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Binary representation inspection</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$flonum-u8-ref</b><var> fl fx<a name="index-g_t_0024flonum_002du8_002dref-1817"></a></var><br>
<blockquote><p>Return the octet at index <var>fx</var> in the data area of <var>fl</var>.

        <p>Notice that the <var>fx</var> offset is positive, but it represents an offset
from the end of the data area; on a 32-bit platform, the indexes of the
bytes are:

     <pre class="example">             1st word    2nd word    3rd word    4th word
          |-----------|-----------|-----------|-----------|
                                  |--|--|--|--|--|--|--|--| bytes
                                    7  6  5  4  3  2  1  0  offsets
                                  |.......................|
                                       IEEE 754 flonum
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flonum-set!</b><var> fl fx-index fx-value<a name="index-g_t_0024flonum_002dset_0021-1818"></a></var><br>
<blockquote><p>Store the byte or octet represented by <var>fx-value</var> at index
<var>fx-index</var> in the data area of <var>fl</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flonum-sbe</b><var> fl<a name="index-g_t_0024flonum_002dsbe-1819"></a></var><br>
<blockquote><p>Return a fixnum<small class="dots">...</small> Still undocumented, read the code look at the
format of <acronym>IEEE</acronym> double precision flonums. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Arithmetic operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$fl+</b><var> fl1 fl2<a name="index-g_t_0024fl_002b-1820"></a></var><br>
&mdash; Unsafe Operation: <b>$fl*</b><var> fl1 fl2<a name="index-g_t_0024fl_002a-1821"></a></var><br>
&mdash; Unsafe Operation: <b>$fl/</b><var> fl1 fl2<a name="index-g_t_0024fl_002f-1822"></a></var><br>
<blockquote><p>Perform arithmetic operations. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fl-</b><var> fl<a name="index-g_t_0024fl_002d-1823"></a></var><br>
&mdash; Unsafe Operation: <b>$fl-</b><var> fl1 fl2<a name="index-g_t_0024fl_002d-1824"></a></var><br>
<blockquote><p>With one operand: return <var>fl</var> negated.  With two operands: subtract
the operands and return the result. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fldiv</b><var> fl1 fl2<a name="index-g_t_0024fldiv-1825"></a></var><br>
&mdash; Unsafe Operation: <b>$flmod</b><var> fl1 fl2<a name="index-g_t_0024flmod-1826"></a></var><br>
&mdash; Unsafe Operation: <b>$fldiv0</b><var> fl1 fl2<a name="index-g_t_0024fldiv0-1827"></a></var><br>
&mdash; Unsafe Operation: <b>$flmod0</b><var> fl1 fl2<a name="index-g_t_0024flmod0-1828"></a></var><br>
&mdash; Unsafe Operation: <b>$fldiv-and-mod</b><var> fl1 fl2<a name="index-g_t_0024fldiv_002dand_002dmod-1829"></a></var><br>
&mdash; Unsafe Operation: <b>$fldiv0-and-mod0</b><var> fl1 fl2<a name="index-g_t_0024fldiv0_002dand_002dmod0-1830"></a></var><br>
<blockquote><p>Implement the number&ndash;theoretic integer divisions. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Exactness and conversion</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$flonum-&gt;exact</b><var> fl<a name="index-g_t_0024flonum_002d_003eexact-1831"></a></var><br>
<blockquote><p>Rationalize the operand and return the result. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fixnum-&gt;flonum</b><var> fx<a name="index-g_t_0024fixnum_002d_003eflonum-1832"></a></var><br>
<blockquote><p>Convert the fixnum operand into a flonum and return a reference to the
result. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Predicates</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$flzero?</b><var> fl<a name="index-g_t_0024flzero_003f-1833"></a></var><br>
<blockquote><p>Return true if the operand is zero.  Notice that the return value will
be true for both <code>+0.0</code> or <code>-0.0</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flzero?/positive</b><var> fl<a name="index-g_t_0024flzero_003f_002fpositive-1834"></a></var><br>
&mdash; Unsafe Operation: <b>$flzero?/negative</b><var> fl<a name="index-g_t_0024flzero_003f_002fnegative-1835"></a></var><br>
<blockquote><p>Return true if the operand is <code>+0.0</code> or <code>-0.0</code>, respectively. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flpositive?</b><var> fl<a name="index-g_t_0024flpositive_003f-1836"></a></var><br>
<blockquote><p>Return true if the operand is strictly positive.  This predicate fails
when applied to <code>+0.0</code>; to check for positivity including
<code>+0.0</code> we must use:

     <pre class="example">          (or ($flzero?/positive <var>fl</var>) ($fl&gt; <var>fl</var> +0.0))
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flnegative?</b><var> fl<a name="index-g_t_0024flnegative_003f-1837"></a></var><br>
<blockquote><p>Return true if the operand is strictly negative.  This predicate fails
when applied to <code>-0.0</code>; to check for negativity including
<code>-0.0</code> we must use:

     <pre class="example">          (or ($flzero?/negative <var>fl</var>) ($fl&lt; <var>fl</var> -0.0))
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fleven?</b><var> fl<a name="index-g_t_0024fleven_003f-1838"></a></var><br>
<blockquote><p>Return true if the operand is even. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flodd?</b><var> fl<a name="index-g_t_0024flodd_003f-1839"></a></var><br>
<blockquote><p>Return true if the operand is odd. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flonum-integer?</b><var> fl<a name="index-g_t_0024flonum_002dinteger_003f-1840"></a></var><br>
<blockquote><p>Return true if the operand is integer. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flonum-rational?</b><var> fl<a name="index-g_t_0024flonum_002drational_003f-1841"></a></var><br>
<blockquote><p>Return true if the operand is rational.  All the flonums are rational
with the exception of infinities and not&ndash;a&ndash;number. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Rounding</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$flround</b><var> fl<a name="index-g_t_0024flround-1842"></a></var><br>
<blockquote><p>Return the closest integral flonum to the operand, rounding to even when
<var>fl</var> represents a number halfway between two integers. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flfloor</b><var> fl<a name="index-g_t_0024flfloor-1843"></a></var><br>
<blockquote><p>Return the largest integral flonum not larger than the operand. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flceiling</b><var> fl<a name="index-g_t_0024flceiling-1844"></a></var><br>
<blockquote><p>Return the smallest integral flonum not larger than the operand. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fltruncate</b><var> fl<a name="index-g_t_0024fltruncate-1845"></a></var><br>
<blockquote><p>Return the integral flonum closest to the operand whose absolute value
is not larger than the absolute value of the operand itself. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Parts</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$flnumerator</b><var> fl<a name="index-g_t_0024flnumerator-1846"></a></var><br>
&mdash; Unsafe Operation: <b>$fldenominator</b><var> fl<a name="index-g_t_0024fldenominator-1847"></a></var><br>
<blockquote><p>Return the numerator or denominator of the operand. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flabs</b><var> fl<a name="index-g_t_0024flabs-1848"></a></var><br>
<blockquote><p>Return the absolute value of the operand. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Trigonometric operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$flsin</b><var> fl<a name="index-g_t_0024flsin-1849"></a></var><br>
&mdash; Unsafe Operation: <b>$flcos</b><var> fl<a name="index-g_t_0024flcos-1850"></a></var><br>
&mdash; Unsafe Operation: <b>$fltan</b><var> fl<a name="index-g_t_0024fltan-1851"></a></var><br>
<blockquote><p>Return the sine, cosine and tangent of the operand. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flasin</b><var> fl<a name="index-g_t_0024flasin-1852"></a></var><br>
&mdash; Unsafe Operation: <b>$flacos</b><var> fl<a name="index-g_t_0024flacos-1853"></a></var><br>
&mdash; Unsafe Operation: <b>$flatan</b><var> fl<a name="index-g_t_0024flatan-1854"></a></var><br>
<blockquote><p>Return the arcsine, arccosine and arctangent of the operand. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flatan2</b><var> fl1 fl2<a name="index-g_t_0024flatan2-1855"></a></var><br>
<blockquote><p>Return an equivalent of:

     <pre class="example">          (angle (make-rectangular <var>fl2</var> <var>fl1</var>))
</pre>
        </blockquote></div>

<!--  -->
<h5 class="subsubheading">Hyperbolic functions</h5>

<div class="defun">
&mdash; Function: <b>$flsinh</b><var> fl<a name="index-g_t_0024flsinh-1856"></a></var><br>
&mdash; Function: <b>$flcosh</b><var> fl<a name="index-g_t_0024flcosh-1857"></a></var><br>
&mdash; Function: <b>$fltanh</b><var> fl<a name="index-g_t_0024fltanh-1858"></a></var><br>
<blockquote><p>Compute the hyperbolic functions.  Return flonum objects. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>$flasinh</b><var> fl<a name="index-g_t_0024flasinh-1859"></a></var><br>
&mdash; Function: <b>$flacosh</b><var> fl<a name="index-g_t_0024flacosh-1860"></a></var><br>
&mdash; Function: <b>$flatanh</b><var> fl<a name="index-g_t_0024flatanh-1861"></a></var><br>
<blockquote><p>Compute the inverse hyperbolic functions.  Return flonum objects. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Exponentials and logarithms</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$flcbrt</b><var> fl<a name="index-g_t_0024flcbrt-1862"></a></var><br>
<blockquote><p>Return the real cube root function of <var>fl</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flexp</b><var> fl<a name="index-g_t_0024flexp-1863"></a></var><br>
<blockquote><p>Return the base e exponential of the operand. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fllog</b><var> fl<a name="index-g_t_0024fllog-1864"></a></var><br>
<blockquote><p>Return the natural logarithm of the operand.  For non&ndash;negative <var>fl</var>
the return value is a numeric flonum; for negative <var>fl</var> the return
value is not&ndash;a&ndash;number.  See also <code>$log-flonum</code> to compute the
logarithm of negative flonums as a complex number. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fllog2</b><var> fl1 fl2<a name="index-g_t_0024fllog2-1865"></a></var><br>
<blockquote><p>Return the base&ndash;<var>fl2</var> logarithme of <var>fl1</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flexpm1</b><var> fl<a name="index-g_t_0024flexpm1-1866"></a></var><br>
<blockquote><p>Return an equivalent of exp(<var>fl</var>) - 1. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fllog1p</b><var> fl<a name="index-g_t_0024fllog1p-1867"></a></var><br>
<blockquote><p>Return an equivalent of log(1 + <var>fl</var>). 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flhypot</b><var> fl1 fl2<a name="index-g_t_0024flhypot-1868"></a></var><br>
<blockquote><p>Compute the Euclidean distance function: \sqrt(X*X+Y*Y). 
<a href="../libc/Exponents-and-Logarithms.html#Exponents-and-Logarithms">hypot</a>. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Power operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$flexpt</b><var> fl1 fl2<a name="index-g_t_0024flexpt-1869"></a></var><br>
<blockquote><p>Return <var>fl1</var> raised to the power of <var>fl2</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flsqrt</b><var> fl<a name="index-g_t_0024flsqrt-1870"></a></var><br>
<blockquote><p>Return the square root of the operand. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flsquare</b><var> fl<a name="index-g_t_0024flsquare-1871"></a></var><br>
<blockquote><p>Return the square of <var>fl</var>: <var>fl</var> times <var>fl</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flcube</b><var> fl<a name="index-g_t_0024flcube-1872"></a></var><br>
<blockquote><p>Return the cube of <var>fl</var>: <var>fl</var> times <var>fl</var> times <var>fl</var>. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Comparison operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$fl=</b><var> fl1 fl2<a name="index-g_t_0024fl_003d-1873"></a></var><br>
&mdash; Unsafe Operation: <b>$fl&lt;</b><var> fl1 fl2<a name="index-g_t_0024fl_003c-1874"></a></var><br>
&mdash; Unsafe Operation: <b>$fl&lt;=</b><var> fl1 fl2<a name="index-g_t_0024fl_003c_003d-1875"></a></var><br>
&mdash; Unsafe Operation: <b>$fl&gt;</b><var> fl1 fl2<a name="index-g_t_0024fl_003e-1876"></a></var><br>
&mdash; Unsafe Operation: <b>$fl&gt;=</b><var> fl1 fl2<a name="index-g_t_0024fl_003e_003d-1877"></a></var><br>
<blockquote><p>Perform comparison operations
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flmax</b><var> fl1 fl2<a name="index-g_t_0024flmax-1878"></a></var><br>
<blockquote><p>Return the maximum between the operands. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$flmin</b><var> fl1 fl2<a name="index-g_t_0024flmin-1879"></a></var><br>
<blockquote><p>Return the minimum between the operands. 
</p></blockquote></div>

<!-- page -->
   </body></html>

