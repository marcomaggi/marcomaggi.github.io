<html lang="en">
<head>
<title>iklib io codecs - Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="iklib-io.html#iklib-io" title="iklib io">
<link rel="prev" href="iklib-io-pathnames.html#iklib-io-pathnames" title="iklib io pathnames">
<link rel="next" href="iklib-io-binary.html#iklib-io-binary" title="iklib io binary">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.2d17 of Vicare Scheme, an
R6RS compliant native compiler for the Scheme language, producing
single threaded programs running on Intel x86 32-bit processors, with
experimental support for 64-bit machines.  _Vicare_ is pronounced
the etruscan way.

The package is distributed under the terms of the GNU General Public
License (GPL) and can be downloaded from:

               `http://code.google.com/p/vicare-scheme/'


or:

            `http://github.com/marcomaggi/vicare/downloads'


the home page of the project is at:

              `http://marcomaggi.github.com/vicare.html'


development takes place at:

                `http://github.com/marcomaggi/vicare/'


and, as a backup, at:

                     `http://gitorious.org/vicare'


this project has a mailing list:

             `http://groups.google.com/group/vicare-users'


Copyright (C) 2010-2012 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

This document is derived from the original Ikarus documentation by the
Vicare Scheme contributors.

     This program is free software: you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     version 3 as published by the Free Software Foundation.

     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program.  If not, see
     `http://www.gnu.org/licenses/'.

Trademarks used herein are the property of their respective owners.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="iklib-io-codecs"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="iklib-io-binary.html#iklib-io-binary">iklib io binary</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="iklib-io-pathnames.html#iklib-io-pathnames">iklib io pathnames</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="iklib-io.html#iklib-io">iklib io</a>
<hr>
</div>

<h4 class="subsection">3.27.2 Transcoders and additional codecs</h4>

<p>The following bindings are exported by the <code>(ikarus)</code> library.

<div class="defun">
&mdash; Parameter: <b>native-transcoder</b><var><a name="index-native_002dtranscoder-323"></a></var><br>
<blockquote><p><a name="index-open_002dinput_002dfile-324"></a><a name="index-with_002dinput_002dfrom_002dfile-325"></a><a name="index-call_002dwith_002dinput_002dfile-326"></a><a name="index-open_002doutput_002dfile-327"></a><a name="index-with_002doutput_002dto_002dfile-328"></a><a name="index-call_002dwith_002doutput_002dfile-329"></a>The function <code>native-transcoder</code> defined by <acronym>R6RS</acronym> returns a
transcoder representing acceptable defaults for the platform on which
the Scheme implementation is running.  Under Vicare such
default is:

     <pre class="example">          (make-transcoder (utf-8-codec) 'none 'replace)
</pre>
        <p class="noindent">and additionally the function is a parameter, so the default can be
configured.  Notice that the following functions create Scheme ports
using the transcoder returned by <code>native-transcoder</code>:

     <pre class="example">          open-input-file         open-output-file
          with-input-from-file    with-output-to-file
          call-with-input-file    call-with-output-file
</pre>
        </blockquote></div>

   <p>The codec returned by <code>utf-16-codec</code>, defined by <acronym>R6RS</acronym>, has
different semantics depending upon the type of the port:

     <ul>
<li>For output and input/output ports it defaults to <acronym>UTF</acronym>-16 big endian
(which seems mandated by the Unicode Consortium).

     <li>For input ports the endianness is left unspecified until the first bytes
are read: such bytes must be a valid <acronym>UTF</acronym>-16 Byte Order Mark which
dynamically configures the port.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>
</ul>

<div class="defun">
&mdash; Procedure: <b>utf-16le-codec</b><var><a name="index-utf_002d16le_002dcodec-330"></a></var><br>
&mdash; Procedure: <b>utf-16be-codec</b><var><a name="index-utf_002d16be_002dcodec-331"></a></var><br>
<blockquote><p>Codecs for the <acronym>UTF</acronym>-16 encoding schemes, little endian and big endian. 
A call to any of these procedures returns a value that is equal in the
sense of <code>eqv?</code> to the result of any other call to the same
procedure. 
</p></blockquote></div>

<div class="defun">
&mdash; Procedure: <b>utf-16n-codec</b><var><a name="index-utf_002d16n_002dcodec-332"></a></var><br>
<blockquote><p>Return a codec for the <acronym>UTF</acronym>-16 encoding scheme, with endianness equal
to the one returned by <code>(native-endianness)</code>.  A call to this
procedure returns a value that is equal in the sense of <code>eqv?</code> to
the result of any other call to the same procedure. 
</p></blockquote></div>

<div class="defun">
&mdash; Procedure: <b>utf-bom-codec</b><var><a name="index-utf_002dbom_002dcodec-333"></a></var><br>
<blockquote><p>Codec for <acronym>UTF</acronym> encoding schemes whose data open with a Byte Order
Mark.  A call to this procedure returns a value that is equal in the
sense of <code>eqv?</code> to the result of any other call to the same
procedure.

        <p>At present this codec is supported only by input ports. 
</p></blockquote></div>

<!-- page -->
   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> The big endian <acronym>BOM</acronym>
for <acronym>UTF</acronym>-16 is the sequence of bytes <code>#xFE #xFF</code>; the little
endian <acronym>BOM</acronym> for <acronym>UTF</acronym>-16 is the sequence of bytes <code>#xFF
#xFE</code>.</p>

   <hr></div>

   </body></html>

