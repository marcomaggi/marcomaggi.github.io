<html lang="en">
<head>
<title>stdlib io port buffer modes - Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="stdlib-io-port.html#stdlib-io-port" title="stdlib io port">
<link rel="prev" href="stdlib-io-port-file-options.html#stdlib-io-port-file-options" title="stdlib io port file options">
<link rel="next" href="stdlib-io-port-transcoders.html#stdlib-io-port-transcoders" title="stdlib io port transcoders">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d2 of Vicare Scheme, an
R6RS compliant native compiler for the Scheme language, producing
single threaded programs running on Intel x86 32-bit processors, with
experimental support for 64-bit machines.  _Vicare_ is pronounced
the etruscan way.

The package, including its documentation, is distributed under the terms
of the GNU General Public License (GPL) and can be downloaded
from:

        `http://sourceforge.net/projects/vicare-scheme/files/'


the home page of the project is at:

              `http://marcomaggi.github.com/vicare.html'


development takes place at:

                `http://github.com/marcomaggi/vicare/'


and, as a backup, at:

                     `http://gitorious.org/vicare'


and at:

           `http://sourceforge.net/projects/vicare-scheme/'


this project has a mailing list:

             `http://groups.google.com/group/vicare-users'


Copyright (C) 2010-2013 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

Copyright (C) Michael Sperber, R. Kent Dybvig, Matthew Flatt and Anton Van Straaten.

This document is derived from the original Ikarus documentation by the
Vicare Scheme contributors, see the ``History'' appendix for details.

     This program is free software: you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     version 3 as published by the Free Software Foundation.

     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program.  If not, see
     `http://www.gnu.org/licenses/'.

Trademarks used herein are the property of their respective owners.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="stdlib-io-port-buffer-modes"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="stdlib-io-port-transcoders.html#stdlib-io-port-transcoders">stdlib io port transcoders</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="stdlib-io-port-file-options.html#stdlib-io-port-file-options">stdlib io port file options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="stdlib-io-port.html#stdlib-io-port">stdlib io port</a>
<hr>
</div>

<h5 class="subsubsection">5.8.2.3 Buffer modes</h5>

<p>Each port has an associated buffer mode.  For an output port, the buffer
mode defines when an output operation flushes the buffer associated with
the output port.  For an input port, the buffer mode defines how much
data will be read to satisfy read operations.  The possible buffer modes
are the symbols:

     <dl>
<dt><code>none</code><dd>for no buffering,

     <br><dt><code>line</code><dd>for flushing upon line endings and reading up to line endings, or other
implementation&ndash;dependent behavior,

     <br><dt><code>block</code><dd>for arbitrary buffering. 
</dl>

   <p>This section uses the parameter name <var>buffer-mode</var> for arguments
that must be buffer-mode symbols.

   <p>If two ports are connected to the same mutable source, both ports are
unbuffered, and reading a byte or character from that shared source via
one of the two ports would change the bytes or characters seen via the
other port, a lookahead operation on one port will render the peeked
byte or character inaccessible via the other port, while a subsequent
read operation on the peeked port will see the peeked byte or character
even though the port is otherwise unbuffered.

   <p>In other words, the semantics of buffering is defined in terms of side
effects on shared mutable sources, and a lookahead operation has the
same side effect on the shared source as a read operation.

<div class="defun">
&mdash; Syntax: <b>buffer-mode</b><var> ?buffer-mode-symbol<a name="index-buffer_002dmode-648"></a></var><br>
<blockquote><p><var>?buffer-mode-symbol</var> must be a symbol whose name is one of
<code>none</code>, <code>line</code>, and <code>block</code>.  The result is the
corresponding symbol, and specifies the associated buffer mode.

        <blockquote>
<strong>NOTE</strong> Only the name of <var>?buffer-mode-symbol</var> is significant. 
</blockquote>
        </p></blockquote></div>

<div class="defun">
&mdash; Procedure: <b>buffer-mode?</b><var> obj<a name="index-buffer_002dmode_003f-649"></a></var><br>
<blockquote><p>Return <code>#t</code> if the argument is a valid buffer&ndash;mode symbol, and
returns <code>#f</code> otherwise. 
</p></blockquote></div>

<!-- page -->
   </body></html>

