<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This document describes the libraries distributed along with version
0.4d1 of Vicare Scheme, an R6RS compliant native
compiler for the Scheme language.

Copyright (C) 2010-2017 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

The documentation of IrRegex is Copyright (C) 2005-2012 Alex
Shinn.  All rights reserved.

The documentation of Pregexp is Copyright (C) 1999-2005 Dorai
Sitaram.  All rights reserved.

The documentation of the library (vicare formations) is derived
from the documentation of Guile.  Copyright (C) 1996-2005,
2009-2013 Free Software Foundation.

The documentation of the libraries (vicare parser-tools silex
-) are derived form the documentation of SILex.  Copyright
(C) 2001, 2009 Danny Dube'.

This program is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License version 3 as
published by the Free Software Foundation.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see
http://www.gnu.org/licenses/.

Trademarks used herein are the property of their respective owners. -->
<!-- Created by GNU Texinfo 6.3, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Libraries for Vicare Scheme: posix time functions</title>

<meta name="description" content="Libraries for Vicare Scheme: posix time functions">
<meta name="keywords" content="Libraries for Vicare Scheme: posix time functions">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="concept-index.html#concept-index" rel="index" title="concept index">
<link href="posix-time.html#posix-time" rel="up" title="posix time">
<link href="posix-timers.html#posix-timers" rel="next" title="posix timers">
<link href="posix-time-itimerspec.html#posix-time-itimerspec" rel="prev" title="posix time itimerspec">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="posix-time-functions"></a>
<div class="header">
<p>
Previous: <a href="posix-time-itimerspec.html#posix-time-itimerspec" accesskey="p" rel="prev">posix time itimerspec</a>, Up: <a href="posix-time.html#posix-time" accesskey="u" rel="up">posix time</a> &nbsp; [<a href="concept-index.html#concept-index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Date-and-time-functions"></a>
<h4 class="subsection">4.18.7 Date and time functions</h4>


<dl>
<dt><a name="index-clock"></a>Function: <strong>clock</strong></dt>
<dd><p>Interface to the C function <code>clock()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/CPU-Time.html#CPU-Time">(libc)clock</a>.
If successful return an exact integer representing the CPU time for the
calling process expressed in clock ticks; if the clock time is not
available return false.
</p></dd></dl>


<dl>
<dt><a name="index-times"></a>Function: <strong>times</strong></dt>
<dd><p>Interface to the C function <code>times()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Processor-Time.html#Processor-Time">(libc)times</a>.  If successful return an instance of <code>struct-tms</code>
representing the current processor time, else return false.
</p></dd></dl>


<dl>
<dt><a name="index-time"></a>Function: <strong>time</strong></dt>
<dd><p>Interface to the C function <code>time()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Simple-Calendar-Time.html#Simple-Calendar-Time">(libc)time</a>.  If successful return the calendar time as an exact
integer, else return false.
</p></dd></dl>


<dl>
<dt><a name="index-gettimeofday"></a>Function: <strong>gettimeofday</strong></dt>
<dd><p>Interface to the C function <code>gettimeofday()</code>,
<a href="http://www.gnu.org/software/libc/manual/html_node/High_002dResolution-Calendar.html#High_002dResolution-Calendar">(libc)gettimeofday</a>.  Acquire the current
time.  If successful return an instance of <code>struct-timeval</code>, else
raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-localtime"></a>Function: <strong>localtime</strong> <em><var>time</var></em></dt>
<dd><p>Interface to the C function <code>localtime()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Broken_002ddown-Time.html#Broken_002ddown-Time">(libc)localtime</a>.  Given an exact integer <var>time</var> representing the
local time as returned by the <code>time</code> function: build and return an
instance of <code>struct-tm</code> representing the same time in human
readable form; if an error occurs raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-gmtime"></a>Function: <strong>gmtime</strong> <em><var>time</var></em></dt>
<dd><p>Interface to the C function <code>gmtime()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Broken_002ddown-Time.html#Broken_002ddown-Time">(libc)gmtime</a>.  Given an exact integer <var>time</var> representing the <acronym>UTC</acronym> time
as returned by the <code>time</code> function: build and return an instance of
<code>struct-tm</code> representing the same time in human readable form; if
an error occurs raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-timelocal"></a>Function: <strong>timelocal</strong> <em><var>tm</var></em></dt>
<dd><p>Interface to the C function <code>timelocal()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Broken_002ddown-Time.html#Broken_002ddown-Time">(libc)timelocal</a>.  Given a reference to a <code>struct-rm</code>, <var>tm</var>,
representing a local broken time, convert it into a time value as
returned by <code>time()</code>.  If successful return an exact integer
representing the time value, else raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-timegm"></a>Function: <strong>timegm</strong> <em><var>tm</var></em></dt>
<dd><p>Interface to the C function <code>timegm()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Broken_002ddown-Time.html#Broken_002ddown-Time">(libc)timegm</a>.  Given a reference to a <code>struct-rm</code>, <var>tm</var>,
representing a <acronym>UTC</acronym> broken time, convert it into a time value as
returned by <code>time()</code>.  If successful return an exact integer
representing the time value, else raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-strftime"></a>Function: <strong>strftime</strong> <em><var>template</var> <var>tm</var></em></dt>
<dt><a name="index-strftime_002fstring"></a>Function: <strong>strftime/string</strong> <em><var>template</var> <var>tm</var></em></dt>
<dd><p>Interface to the C function <code>strftime()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Formatting-Calendar-Time.html#Formatting-Calendar-Time">(libc)strftime</a>.  Given a bytevector <var>template</var> holding an
<acronym>ASCII</acronym> coded format string and a <code>struct-tm</code> instance <var>tm</var>:
build a formatted time string; the resulting time string can be at most
<em>4096</em> bytes wide.  If successful <code>strftime</code> returns a
bytevector holding the time string in <acronym>ASCII</acronym> coding and
<code>strftime/string</code> returns a Scheme string, else raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-nanosleep"></a>Function: <strong>nanosleep</strong> <em><var>secs</var> <var>nsecs</var></em></dt>
<dd><p>Interface to the C function <code>nanosleep()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Sleeping.html#Sleeping">(libc)nanosleep</a>.  Halt the current process for the specified amount of time.
</p>
<p>The count of seconds <var>secs</var> must be an exact integer in the range
<em>[0, 2^32)</em>; the count of nanoseconds <var>nsecs</var> must be an exact
integer in the range <em>[0, 999999999]</em>.
</p>
<p>If successful and the requested time is elapsed: return a pair whose car
is false and whose cdr is false.  If successful and the sleeping was
interrupted by an interprocess signal: return a pair whose car is an
exact integer representing the count of remaining seconds and whose cdr
is an exact integer representing the count of remaining nanoseconds.  If
an error occurs an exception is raised.
</p></dd></dl>


<dl>
<dt><a name="index-setitimer"></a>Function: <strong>setitimer</strong> <em><var>which</var> <var>itimerval</var></em></dt>
<dd><p>Interface to the C function <code>setitimer()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Setting-an-Alarm.html#Setting-an-Alarm">(libc)setitimer</a>.  Set the timer specified by <var>which</var> according to
<var>itimerval</var>.  If successful return unspecified values, else raise an
exception.
</p>
<p><var>which</var> must be a fixnum representing one of the constants:
<code>ITIMER_REAL</code>, <code>ITIMER_VIRTUAL</code>, <code>ITIMER_PROF</code>.
</p>
<p><var>itimerval</var> must be an instance of <code>struct-itimerval</code>.
</p></dd></dl>


<dl>
<dt><a name="index-getitimer"></a>Function: <strong>getitimer</strong> <em><var>which</var></em></dt>
<dd><p>Interface to the C function <code>getitimer()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Setting-an-Alarm.html#Setting-an-Alarm">(libc)getitimer</a>.  Build and return a new <code>struct-itimerval</code>
representing the current timer.
</p></dd></dl>


<dl>
<dt><a name="index-alarm"></a>Function: <strong>alarm</strong> <em><var>seconds</var></em></dt>
<dd><p>Interface to the C function <code>alarm()</code>, <a href="http://www.gnu.org/software/libc/manual/html_node/Setting-an-Alarm.html#Setting-an-Alarm">(libc)alarm</a>.  Set the real&ndash;time timer to expire in <var>seconds</var>.  Return an
exact integer representing how many seconds remain before the previous
alarm would have been sent.
</p></dd></dl>


<p>The following are the real&ndash;time clock functions.  They are available
when Vicare is linked with the <code>rt</code> library.
</p>
<blockquote>
<p><strong>NOTE</strong> On <acronym>GNU</acronym>+Linux systems the argument <var>clock-id</var> to the
<code>clock-*</code> functions can be one among:
</p>
<div class="example">
<pre class="example">CLOCK_REALTIME
CLOCK_MONOTONIC                 CLOCK_MONOTONIC_RAW
CLOCK_PROCESS_CPUTIME_ID        CLOCK_THREAD_CPUTIME_ID
</pre></div>

<p>or a value returned by <code>clock-getcpuclockid</code>.  The code assumes
that clock identifiers of type <code>clockid_t</code> can be safely converted
to C language <code>long</code> values.
</p></blockquote>


<dl>
<dt><a name="index-clock_002dgetres"></a>Function: <strong>clock-getres</strong> <em><var>clock-id</var> <var>time</var></em></dt>
<dd><p>Interface to the C function <code>clock-getres()</code>, see the manual page
<code>clock-getres(2)</code>.  Find the resolution of the clock selected by
the fixnum <var>clock-id</var> and store it in <var>time</var>, which must be an
instance of <code>struct-timespec</code>.  If successful return <var>time</var>
itself, else raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-clock_002dgettime"></a>Function: <strong>clock-gettime</strong> <em><var>clock-id</var> <var>time</var></em></dt>
<dd><p>Interface to the C function <code>clock-gettime()</code>, see the manual page
<code>clock-gettime(2)</code>.  Retrieve the time of the clock selected by the
fixnum <var>clock-id</var> and store it in <var>time</var>, which must be an
instance of <code>struct-timespec</code>.  If successful return <var>time</var>
itself, else raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-clock_002dsettime"></a>Function: <strong>clock-settime</strong> <em><var>clock-id</var> <var>time</var></em></dt>
<dd><p>Interface to the C function <code>clock-settime()</code>, see the manual page
<code>clock-settime(2)</code>.  Set the time of the clock selected by the
fixnum <var>clock-id</var> acquiring it from <var>time</var>, which must be an
instance of <code>struct-timespec</code>.  If successful return <var>time</var>
itself, else raise an exception.
</p></dd></dl>


<dl>
<dt><a name="index-clock_002dgetcpuclockid"></a>Function: <strong>clock-getcpuclockid</strong> <em><var>pid</var></em></dt>
<dd><p>Interface to the C function <code>clock_getcpuclockid()</code>, see the manual
page <code>clock_getcpuclockid(3)</code>.  Obtain the identifier of a process&rsquo;
<acronym>CPU</acronym>&ndash;time clock; if successful return an exact integer
representing the clock identifier, else raise an exception.  <var>pid</var>
must be a fixnum representing the process identifier (<acronym>PID</acronym>).
</p></dd></dl>

<hr>
<div class="header">
<p>
Previous: <a href="posix-time-itimerspec.html#posix-time-itimerspec" accesskey="p" rel="prev">posix time itimerspec</a>, Up: <a href="posix-time.html#posix-time" accesskey="u" rel="up">posix time</a> &nbsp; [<a href="concept-index.html#concept-index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
