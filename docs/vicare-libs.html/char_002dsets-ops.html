<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This document describes the libraries distributed along with version
0.4d1 of Vicare Scheme, an R6RS compliant native
compiler for the Scheme language.

Copyright (C) 2010-2017 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

The documentation of IrRegex is Copyright (C) 2005-2012 Alex
Shinn.  All rights reserved.

The documentation of Pregexp is Copyright (C) 1999-2005 Dorai
Sitaram.  All rights reserved.

The documentation of the library (vicare formations) is derived
from the documentation of Guile.  Copyright (C) 1996-2005,
2009-2013 Free Software Foundation.

The documentation of the libraries (vicare parser-tools silex
-) are derived form the documentation of SILex.  Copyright
(C) 2001, 2009 Danny Dube'.

This program is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License version 3 as
published by the Free Software Foundation.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see
http://www.gnu.org/licenses/.

Trademarks used herein are the property of their respective owners. -->
<!-- Created by GNU Texinfo 6.3, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Libraries for Vicare Scheme: char-sets ops</title>

<meta name="description" content="Libraries for Vicare Scheme: char-sets ops">
<meta name="keywords" content="Libraries for Vicare Scheme: char-sets ops">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="concept-index.html#concept-index" rel="index" title="concept index">
<link href="char_002dsets.html#char_002dsets" rel="up" title="char-sets">
<link href="char_002dsets-sets.html#char_002dsets-sets" rel="next" title="char-sets sets">
<link href="char_002dsets-inspect.html#char_002dsets-inspect" rel="prev" title="char-sets inspect">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="char_002dsets-ops"></a>
<div class="header">
<p>
Next: <a href="char_002dsets-sets.html#char_002dsets-sets" accesskey="n" rel="next">char-sets sets</a>, Previous: <a href="char_002dsets-inspect.html#char_002dsets-inspect" accesskey="p" rel="prev">char-sets inspect</a>, Up: <a href="char_002dsets.html#char_002dsets" accesskey="u" rel="up">char-sets</a> &nbsp; [<a href="concept-index.html#concept-index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Operations-1"></a>
<h3 class="section">26.5 Operations</h3>


<dl>
<dt><a name="index-char_002dset_002dintersection-1"></a>Function: <strong>char-set-intersection</strong> <em><var>cs</var> &hellip;</em></dt>
<dd><p>Return a new set representing the intersection of the arguments; the
intersection is the set of characters present in all the arguments.
When called with no arguments: return a new <code>char-set</code>
representing all the characters in Unicode.
</p>
<p>The returned set may share some structure with the arguments.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002dunion-1"></a>Function: <strong>char-set-union</strong> <em><var>cs</var> &hellip;</em></dt>
<dd><p>Return a new set representing the union of the arguments; the union is
the set of characters present in one and/or more arguments.  When called
with no arguments: return a new empty <code>char-set</code>.
</p>
<p>The returned set may share some structure with the arguments.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002ddifference-1"></a>Function: <strong>char-set-difference</strong> <em><var>cs0</var> <var>cs</var> &hellip;</em></dt>
<dd><p>Return a new set representing the difference between the arguments; the
difference is the set of characters from <var>cs0</var> not present in any of
the <var>cs</var> <code>char-set</code> objects.
</p>
<p>The returned set may share some structure with the arguments.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002ddifference_002bintersection"></a>Function: <strong>char-set-difference+intersection</strong> <em><var>cs0</var> <var>cs</var> &hellip;</em></dt>
<dd><p>Return two values: the difference and the intersection of the arguments;
it partitions its first argument.  It is equivalent to:
</p>
<div class="example">
<pre class="example">(values (char-set-difference cs1 cs2 ...)
        (char-set-intersection cs1 (char-set-union cs2 ...)))
</pre></div>
</dd></dl>


<dl>
<dt><a name="index-char_002dset_002dxor-1"></a>Function: <strong>char-set-xor</strong> <em><var>cs</var> &hellip;</em></dt>
<dd><p>Return a new set representing the exclusive difference between the
arguments: it is the set of characters in only one of the arguments.
When called with no arguments: return the empty set.
</p>
<p>The returned set may share some structure with the arguments.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002dcomplement-1"></a>Function: <strong>char-set-complement</strong> <em><var>cs</var></em></dt>
<dt><a name="index-char_002dset_002dcomplement-2"></a>Function: <strong>char-set-complement</strong> <em><var>cs</var> <var>cs-universe</var></em></dt>
<dd><p>Return a new set representing the complement of <var>cs</var> in
<var>cs-universe</var>.  The complement is the set of characters present in
<var>cs-universe</var>, which are not present in <var>cs</var>.
</p>
<p>If omitted, <var>cs-universe</var> defaults to <code>char-set:full</code>.
</p>
<p>The returned set may share some structure with the arguments.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002dfor_002deach-1"></a>Function: <strong>char-set-for-each</strong> <em><var>proc</var> <var>cs</var></em></dt>
<dd><p>Apply <var>proc</var> to each character in <var>cs</var>.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002dmap-1"></a>Function: <strong>char-set-map</strong> <em><var>proc</var> <var>cs</var></em></dt>
<dd><p>Apply <var>proc</var> to each character in <var>cs</var>; <var>proc</var> must return a
character.  Return a new <code>char-set</code> holding all the characters
returned by <var>proc</var>.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002dfilter-2"></a>Function: <strong>char-set-filter</strong> <em><var>pred</var> <var>cs</var></em></dt>
<dd><p>Apply <var>pred</var> to each character in <var>cs</var>.  Return a new
<code>char-set</code> holding all the characters from <var>cs</var> for which
<var>pred</var> returned non&ndash;false.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002devery-1"></a>Function: <strong>char-set-every</strong> <em><var>proc</var> <var>cs</var></em></dt>
<dd><p>Apply <var>proc</var> to each character in the set and return true if all the
return values are true.  The application stops at the first <code>#f</code>
return value.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002dany-1"></a>Function: <strong>char-set-any</strong> <em><var>proc</var> <var>cs</var></em></dt>
<dd><p>Apply <var>proc</var> to each character in the set and return true if at
least one of the returned values is true.  The application stops at the
first true return value.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002dfold-1"></a>Function: <strong>char-set-fold</strong> <em><var>kons</var> <var>knil</var> <var>cs</var></em></dt>
<dd><p>Fold <var>kons</var> over the characters in the set.  <var>kons</var> must accept
two arguments: The next character from the set and the return value of
the previous invocation of <var>kons</var>.  At the first application the
second argument to <var>kons</var> is <var>knil</var>.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002d_003elist-1"></a>Function: <strong>char-set-&gt;list</strong> <em><var>cs</var></em></dt>
<dd><p>Return a list holding all the characters in the set.  Beware that for
some character sets the resulting list can be big.
</p></dd></dl>


<dl>
<dt><a name="index-list_002d_003echar_002dset-2"></a>Function: <strong>list-&gt;char-set</strong> <em><var>list-of-chars</var></em></dt>
<dt><a name="index-list_002d_003echar_002dset-3"></a>Function: <strong>list-&gt;char-set</strong> <em><var>list-of-chars</var> <var>base-cs</var></em></dt>
<dd><p>Return a new <code>char-set</code> holding the characters in the given list
and the characters in the given <var>base-cs</var>.
</p></dd></dl>


<dl>
<dt><a name="index-string_002d_003echar_002dset-2"></a>Function: <strong>string-&gt;char-set</strong> <em><var>string</var></em></dt>
<dt><a name="index-string_002d_003echar_002dset-3"></a>Function: <strong>string-&gt;char-set</strong> <em><var>string</var> <var>base-cs</var></em></dt>
<dd><p>Return a new character set holding all the characters in <var>string</var>
and the characters in <var>base-cs</var>.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002d_003estring-1"></a>Function: <strong>char-set-&gt;string</strong> <em><var>cs</var></em></dt>
<dd><p>Return a new string object holding all the characters from <var>cs</var>.
The order in which the characters appear is undefined.
</p></dd></dl>


<dl>
<dt><a name="index-char_002dset_002dcursor-1"></a>Function: <strong>char-set-cursor</strong> <em><var>cs</var></em></dt>
<dt><a name="index-char_002dset_002dref-1"></a>Function: <strong>char-set-ref</strong> <em><var>cursor</var></em></dt>
<dt><a name="index-char_002dset_002dcursor_002dnext-1"></a>Function: <strong>char-set-cursor-next</strong> <em><var>cursor</var></em></dt>
<dt><a name="index-end_002dof_002dchar_002dset_003f-1"></a>Function: <strong>end-of-char-set?</strong> <em><var>cursor</var></em></dt>
<dd><p>Cursors are a low&ndash;level facility for iterating over the characters in a
set; a cursor is a value that indexes a character in a char set.
</p>
<p><code>char-set-cursor</code> returns a new cursor object associated to the
character set <var>cs</var>.  There can be multiple cursors associated to the
same character set.
</p>
<p><code>char-set-ref</code> returns a character object representing the set
element currently indexed by a cursor.
</p>
<p><code>char-set-cursor-next</code> increments a cursor index and returns a new
cursor indexing the next character in the set; in this way, code can
step through every character in a char set.
</p>
<p>Stepping a cursor &ldquo;past the end&rdquo; of a char set produces a cursor that
answers true to <code>end-of-char-set?</code>.  It is an error to pass such a
cursor to <code>char-set-ref</code> or to <code>char-set-cursor-next</code>.
</p>
<p>A cursor value may not be used in conjunction with a different character
set; if it is passed to <code>char-set-ref</code> or
<code>char-set-cursor-next</code> with a character set other than the one used
to create it, the results and effects are undefined.
</p>
<p>Cursor values are not necessarily distinct from other types: they may be
integers, linked lists, records, procedures or other values.
</p>
<p>Note that these primitives are necessary to export an iteration facility
for char sets to loop macros.
</p>
<p>Example:
</p>
<div class="example">
<pre class="example">(define cs (char-set #\G #\a #\T #\e #\c #\h))

;; Collect elts of CS into a list.
(let lp ((cur (char-set-cursor cs)) (ans '()))
  (if (end-of-char-set? cur) ans
      (lp (char-set-cursor-next cs cur)
          (cons (char-set-ref cs cur) ans))))
  &rArr; (#\G #\T #\a #\c #\e #\h)

;; Equivalently, using a list unfold (from SRFI 1):
(unfold-right end-of-char-set?
             (curry char-set-ref cs)
      (curry char-set-cursor-next cs)
      (char-set-cursor cs))
  &rArr; (#\G #\T #\a #\c #\e #\h)
</pre></div>
</dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="char_002dsets-sets.html#char_002dsets-sets" accesskey="n" rel="next">char-sets sets</a>, Previous: <a href="char_002dsets-inspect.html#char_002dsets-inspect" accesskey="p" rel="prev">char-sets inspect</a>, Up: <a href="char_002dsets.html#char_002dsets" accesskey="u" rel="up">char-sets</a> &nbsp; [<a href="concept-index.html#concept-index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
