<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This document describes the libraries distributed along with version
0.4d1 of Vicare Scheme, an R6RS compliant native
compiler for the Scheme language.

Copyright (C) 2010-2017 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

The documentation of IrRegex is Copyright (C) 2005-2012 Alex
Shinn.  All rights reserved.

The documentation of Pregexp is Copyright (C) 1999-2005 Dorai
Sitaram.  All rights reserved.

The documentation of the library (vicare formations) is derived
from the documentation of Guile.  Copyright (C) 1996-2005,
2009-2013 Free Software Foundation.

The documentation of the libraries (vicare parser-tools silex
-) are derived form the documentation of SILex.  Copyright
(C) 2001, 2009 Danny Dube'.

This program is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License version 3 as
published by the Free Software Foundation.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see
http://www.gnu.org/licenses/.

Trademarks used herein are the property of their respective owners. -->
<!-- Created by GNU Texinfo 6.3, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Libraries for Vicare Scheme: comparisons pred</title>

<meta name="description" content="Libraries for Vicare Scheme: comparisons pred">
<meta name="keywords" content="Libraries for Vicare Scheme: comparisons pred">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="concept-index.html#concept-index" rel="index" title="concept index">
<link href="comparisons.html#comparisons" rel="up" title="comparisons">
<link href="comparisons-minmax.html#comparisons-minmax" rel="next" title="comparisons minmax">
<link href="comparisons-branch.html#comparisons-branch" rel="prev" title="comparisons branch">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="comparisons-pred"></a>
<div class="header">
<p>
Next: <a href="comparisons-minmax.html#comparisons-minmax" accesskey="n" rel="next">comparisons minmax</a>, Previous: <a href="comparisons-branch.html#comparisons-branch" accesskey="p" rel="prev">comparisons branch</a>, Up: <a href="comparisons.html#comparisons" accesskey="u" rel="up">comparisons</a> &nbsp; [<a href="concept-index.html#concept-index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Predicates"></a>
<h4 class="subsection">1.17.10 Predicates</h4>


<dl>
<dt><a name="index-_003d_003f"></a>Function: <strong>=?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-_003c_003f"></a>Function: <strong>&lt;?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-_003e_003f"></a>Function: <strong>&gt;?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-_003c_003d_003f"></a>Function: <strong>&lt;=?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-_003e_003d_003f"></a>Function: <strong>&gt;=?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-not_003d_003f"></a>Function: <strong>not=?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var>]</em></dt>
<dd><p>If the values <var>x</var> and <var>y</var> are given, test if <var>x</var> and <var>y</var>
are in the relation specified by the name of the procedure <code>rel?</code>,
with respect to compare procedure <var>compare</var>; otherwise construct a
predicate procedure.
</p>
<p>In the forms:
</p>
<div class="example">
<pre class="example">(rel? [<var>compare</var>] <var>x</var> <var>y</var>)
</pre></div>

<p>the result is a boolean depending on <code>(<var>compare</var> <var>x</var>
<var>y</var>)</code> and the test <code>rel?</code> as specified for <code>if&lt;?</code> etc.  If
<var>compare</var> is not supplied, <code>default-compare</code> is used.
</p>
<p>In the form:
</p>
<div class="example">
<pre class="example">(rel? [<var>compare</var>])
</pre></div>

<p>the predicate procedure:
</p>
<div class="example">
<pre class="example">(lambda (x y)
  (rel? <var>compare</var> <var>x</var> <var>y</var>))
</pre></div>

<p>is constructed.  Again, if <var>compare</var> is not supplied,
<code>default-compare</code> is used.
</p>
<p>A few examples for illustration:
</p>
<div class="example">
<pre class="example">(&gt;? &quot;laugh&quot; &quot;LOUD&quot;)
&rArr; #t

(&lt;? string-compare-ci &quot;laugh&quot; &quot;LOUD&quot;)
&rArr; #t

(define char&lt;=?
  (&lt;=? char-compare))

(sort-by-less '(1 a &quot;b&quot;) (&lt;?))
&rArr; '(&quot;b&quot; a 1)

(sort-by-less '(1 a &quot;b&quot;) (&gt;?))
&rArr; '(1 a &quot;b&quot;)
</pre></div>

<blockquote>
<p><em>Warning:</em> A common mistake is writing <code>(&lt;=? x y z)</code> where
<code>(&lt;=/&lt;=? x y z)</code> is meant; this will most likely manifest itself at
the time the expression <code>(x y z)</code> is evaluated.
</p></blockquote>
</dd></dl>


<dl>
<dt><a name="index-_003c_002f_003c_003f"></a>Function: <strong>&lt;/&lt;?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var> <var>z</var>]</em></dt>
<dt><a name="index-_003c_002f_003c_003d_003f"></a>Function: <strong>&lt;/&lt;=?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var> <var>z</var>]</em></dt>
<dt><a name="index-_003c_003d_002f_003c_003f"></a>Function: <strong>&lt;=/&lt;?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var> <var>z</var>]</em></dt>
<dt><a name="index-_003c_003d_002f_003c_003d_003f"></a>Function: <strong>&lt;=/&lt;=?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var> <var>z</var>]</em></dt>
<dt><a name="index-_003e_002f_003e_003f"></a>Function: <strong>&gt;/&gt;?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var> <var>z</var>]</em></dt>
<dt><a name="index-_003e_002f_003e_003d_003f"></a>Function: <strong>&gt;/&gt;=?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var> <var>z</var>]</em></dt>
<dt><a name="index-_003e_003d_002f_003e_003f"></a>Function: <strong>&gt;=/&gt;?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var> <var>z</var>]</em></dt>
<dt><a name="index-_003e_003d_002f_003e_003d_003f"></a>Function: <strong>&gt;=/&gt;=?</strong> <em>[<var>compare</var>] [<var>x</var> <var>y</var> <var>z</var>]</em></dt>
<dd><p>Test if <var>x</var>, <var>y</var>, and <var>z</var> form a chain with the two
relations specified by the name of the procedure <code>rel1/rel2?</code>, with
respect to the compare procedure <var>compare</var>.
</p>
<p>If <var>compare</var> is not provided, <code>default-compare</code> is used.
</p>
<p>If <var>x</var>, <var>y</var> and <var>z</var> are not provided, a predicate procedure
of three arguments is constructed.  The order in which the values are
compared is unspecified, but each value is compared at least once.
</p>
<blockquote>
<p><strong>NOTE</strong>
</p>
<div class="example">
<pre class="example">(&lt;=/&lt;? real-compare 0 x 1)
</pre></div>

<p>tests if <var>x</var> is a real number in the half open interval <code>[0,
1)</code>.
</p></blockquote>
</dd></dl>


<dl>
<dt><a name="index-chain_003d_003f"></a>Function: <strong>chain=?</strong> <em><var>compare</var> <var>x1</var> ...</em></dt>
<dt><a name="index-chain_003c_003f"></a>Function: <strong>chain&lt;?</strong> <em><var>compare</var> <var>x1</var> ...</em></dt>
<dt><a name="index-chain_003e_003f"></a>Function: <strong>chain&gt;?</strong> <em><var>compare</var> <var>x1</var> ...</em></dt>
<dt><a name="index-chain_003c_003d_003f"></a>Function: <strong>chain&lt;=?</strong> <em><var>compare</var> <var>x1</var> ...</em></dt>
<dt><a name="index-chain_003e_003d_003f"></a>Function: <strong>chain&gt;=?</strong> <em><var>compare</var> <var>x1</var> ...</em></dt>
<dd><p>Test if the values <var>x1</var> &hellip; (zero or more values) form a chain
with respect to the relation specified by the name of the procedure, and
with respect to the compare procedure <var>compare</var>.  The result is a
boolean.
</p>
<p>The order in which the values are compared is unspecified, but each
value is compared at least once (even if there is just one).
</p>
<p>A sequence of values <var>x1</var>, &hellip;, <var>xn</var> forms a chain with
respect to the relation <code>rel?</code> if:
</p>
<div class="example">
<pre class="example">(rel? <var>compare</var> <var>xi</var> <var>xj</var>)
</pre></div>

<p>for all <em>1 &lt; i &lt; j &lt; n</em>.  In particular, this is the case for
<em>n \in {0, 1}</em>.
</p>
<p>Since the relations <code>=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;</code>, and <code>&gt;</code>
are transitive, it is sufficient to test:
</p>
<div class="example">
<pre class="example">(rel? <var>compare</var> <var>xi</var> <var>xi+1</var>)
</pre></div>

<p>for <em>1 &lt; i &lt; n</em>.
</p>
<blockquote>
<p><strong>NOTE</strong> The reason every <var>xi</var> participates in at least one
comparison is type&ndash;checking: After testing if the values form a chain,
these value may be assumed to be of the type comparable by compare&mdash;
and this holds irrespectively of the number of values, or whether they
form a chain.
</p></blockquote>
</dd></dl>


<dl>
<dt><a name="index-pairwise_002dnot_003d_003f"></a>Function: <strong>pairwise-not=?</strong> <em><var>compare</var> <var>x1</var> ...</em></dt>
<dd><p>Tests if the values <var>x1</var> ... (zero or more values) are pairwise
unequal with respect to the compare procedure <var>compare</var>.  The result
is a boolean.
</p>
<p>The order in which the values are compared is unspecified, but each
value is compared at least once (even if there is just one).
</p>
<p>The values <var>x1</var>, ..., <var>xn</var> are pairwise unequal if:
</p>
<div class="example">
<pre class="example">(not=? <var>compare</var> <var>xi</var> <var>xj</var>)
</pre></div>

<p>for all <em>i</em> different from <em>j</em>.  In particular, this is the
case for <em>n \in {0, 1}</em>.
</p>
<p>Since compare defines a total ordering on the values, the property can
be checked in time <em>O(n log n)</em>.
</p></dd></dl>


<dl>
<dt><a name="index-compare_002dby_003c"></a>Function: <strong>compare-by&lt;</strong> <em><var>lt-pred</var> [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-compare_002dby_003e"></a>Function: <strong>compare-by&gt;</strong> <em><var>gt-pred</var> [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-compare_002dby_003c_003d"></a>Function: <strong>compare-by&lt;=</strong> <em><var>le-pred</var> [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-compare_002dby_003e_003d"></a>Function: <strong>compare-by&gt;=</strong> <em><var>ge-pred</var> [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-compare_002dby_003d_002f_003c"></a>Function: <strong>compare-by=/&lt;</strong> <em><var>eq-pred</var> <var>lt-pred</var> [<var>x</var> <var>y</var>]</em></dt>
<dt><a name="index-compare_002dby_003d_002f_003e"></a>Function: <strong>compare-by=/&gt;</strong> <em><var>eq-pred</var> <var>gt-pred</var> [<var>x</var> <var>y</var>]</em></dt>
<dd><p>If optional arguments <var>x</var> and <var>y</var> are present then these are
compared with respect to the total order defined by the predicate(s)
given; the result is in <em>{-1, 0, 1}</em>.  If <var>x</var> and <var>y</var> are
not present then a procedure comparing its two arguments using the
predicate(s) given is constructed and returned.
</p>
<p>The predicate procedures mean the following:
</p>
<dl compact="compact">
<dt><var>lt-pred</var></dt>
<dd><p>Test if <em>x &lt; y</em>.
</p>
</dd>
<dt><var>le-pred</var></dt>
<dd><p>Test for <em>&lt;=</em>.
</p>
</dd>
<dt><var>gt-pred</var></dt>
<dd><p>Test for <em>&gt;</em>.
</p>
</dd>
<dt><var>ge-pred</var></dt>
<dd><p>Test for <em>&gt;=</em>.
</p>
</dd>
<dt><var>eq-pred</var></dt>
<dd><p>Test if <var>x</var> and <var>y</var> are equivalent.
</p></dd>
</dl>

<p>The result returned by a predicate procedure is interpreted as a Scheme
truth value (i.e. <code>#f</code> is false and non&ndash;<code>#f</code> is true).
</p>
<p>The purpose of the procedures compare-by-predicate(s) is to define a
compare procedure from an order predicate, and possibly an additional
equivalence predicate.  If an equivalence predicate eq-pred is given, it
is called before the order predicate because the equivalence may be
coarser than the total ordering, and it may also be cheaper.
</p>
<blockquote>
<p><strong>NOTE</strong> <code>char-compare</code> could be defined in terms of
<code>char&lt;=?</code> as:
</p>
<div class="example">
<pre class="example">(define char-compare
  (compare-by&lt;= char&lt;=?))
</pre></div>
</blockquote>
</dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="comparisons-minmax.html#comparisons-minmax" accesskey="n" rel="next">comparisons minmax</a>, Previous: <a href="comparisons-branch.html#comparisons-branch" accesskey="p" rel="prev">comparisons branch</a>, Up: <a href="comparisons.html#comparisons" accesskey="u" rel="up">comparisons</a> &nbsp; [<a href="concept-index.html#concept-index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
