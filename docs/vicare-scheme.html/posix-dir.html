<html lang="en">
<head>
<title>posix dir - Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="posix.html#posix" title="posix">
<link rel="prev" href="posix-link.html#posix-link" title="posix link">
<link rel="next" href="posix-fd.html#posix-fd" title="posix fd">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d4 of Vicare Scheme, an
R6RS compliant native compiler for the Scheme language, producing
single threaded programs running on Intel x86 32-bit processors, with
experimental support for 64-bit machines.  _Vicare_ is pronounced
the etruscan way.

The package, including its documentation, is distributed under the terms
of the GNU General Public License (GPL) and can be downloaded
from:

        `http://sourceforge.net/projects/vicare-scheme/files/'


the home page of the project is at:

              `http://marcomaggi.github.com/vicare.html'


development takes place at:

                `http://github.com/marcomaggi/vicare/'


and, as a backup, at:

                     `http://gitorious.org/vicare'


and at:

           `http://sourceforge.net/projects/vicare-scheme/'


this project has a mailing list:

             `http://groups.google.com/group/vicare-users'


Copyright (C) 2010-2013 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

Copyright (C) Michael Sperber, R. Kent Dybvig, Matthew Flatt and Anton Van Straaten.

This document is derived from the original Ikarus documentation by the
Vicare Scheme contributors, see the ``History'' appendix for details.

The documentation of IrRegex is Copyright (C) 2005-2012 Alex
Shinn.  All rights reserved.

The documentation of Pregexp is Copyright (C) 1999-2005 Dorai
Sitaram.  All rights reserved.

The documentation of the library `(vicare formations)' is derived
from the documentation of Guile.  Copyright (C) 1996-2005,
2009-2013 Free Software Foundation.

     This program is free software: you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     version 3 as published by the Free Software Foundation.

     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program.  If not, see
     `http://www.gnu.org/licenses/'.

Trademarks used herein are the property of their respective owners.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="posix-dir"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="posix-fd.html#posix-fd">posix fd</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="posix-link.html#posix-link">posix link</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="posix.html#posix">posix</a>
<hr>
</div>

<h3 class="section">8.11 File system directories</h3>

<div class="defun">
&mdash; Function: <b>mkdir</b><var> pathname mode<a name="index-mkdir-2172"></a></var><br>
<blockquote><p><a name="index-Creating-directories-2173"></a><a name="index-Making-directories-2174"></a><a name="index-Directories_002c-creating-2175"></a><a name="index-Directories_002c-making-2176"></a>Interface to the C function <code>mkdir()</code>, <a href="../libc/Creating-Directories.html#Creating-Directories">mkdir</a>.  Create a new directory file system entry with name
<var>pathname</var>; <var>mode</var> must be a fixnum specifying access
permissions.  If successful return unspecified values, else raise an
exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>mkdir/parents</b><var> pathname mode<a name="index-mkdir_002fparents-2177"></a></var><br>
<blockquote><p>Create a new directory file system entry with name <var>pathname</var> and
all its parents if they do not exist; <var>mode</var> must be a fixnum
specifying access permissions for all the components.  If successful
return unspecified values, else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>rmdir</b><var> pathname<a name="index-rmdir-2178"></a></var><br>
<blockquote><p><a name="index-Removing-directories-2179"></a><a name="index-Directories_002c-removing-2180"></a>Interface to the C function <code>rmdir()</code>, <a href="../libc/Creating-Directories.html#Creating-Directories">rmdir</a>.  Remove the directory file system entry selected by
<var>pathname</var>.  If successful return unspecified values, else raise an
exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>getcwd</b><var><a name="index-getcwd-2181"></a></var><br>
&mdash; Function: <b>getcwd/string</b><var><a name="index-getcwd_002fstring-2182"></a></var><br>
<blockquote><p><a name="index-Current-working-directory-2183"></a><a name="index-Process-working-directory-2184"></a><a name="index-Directories_002c-current-working-2185"></a>Interface to the C function <code>getcwd()</code>, <a href="../libc/Working-Directory.html#Working-Directory">getcwd</a>.  Acquire the pathname of the current working directory.  If
successful <code>getcwd</code> returns a bytevector holding the pathname,
<code>getcwd/string</code> returns a string holding the pathname; else an
exception is raised. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>chdir</b><var> pathname<a name="index-chdir-2186"></a></var><br>
<blockquote><p><a name="index-Changing-current-directory-2187"></a><a name="index-Directories_002c-changing-current-2188"></a>Interface to the C function <code>chdir()</code>, <a href="../libc/Working-Directory.html#Working-Directory">chdir</a>.  Change the current working directory to the file system entry
selected by <var>pathname</var>.  If successful return unspecified values,
else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>fchdir</b><var> fd<a name="index-fchdir-2189"></a></var><br>
<blockquote><p>Interface to the C function <code>fchdir()</code>, <a href="../libc/Working-Directory.html#Working-Directory">fchdir</a>.  Change the current working directory to the file system entry
associated to <var>fd</var>, which must be a fixnum representing a file
descriptor.  If successful return unspecified values, else raise an
exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Structure Type: <b>directory-stream</b><var><a name="index-directory_002dstream-2190"></a></var><br>
<blockquote><p>Opaque data structure type used in the inspection of file system
directory entries.  Instances of this type can be destroyed by
<code>closedir</code>, but they are also automatically and correctly destroyed
by the garbage collector.  It has the following fields:

          <dl>
<dt><code>pathname</code><dd>False or a string representing the pathname.

          <br><dt><code>pointer</code><dd>A pointer object referencing the directory.

          <br><dt><code>fd</code><dd>False or a fixnum representing the file descriptor associated to the
directory.

          <br><dt><code>closed?</code><dd>A boolean, true if this stream has already been closed. 
</dl>
        </p></blockquote></div>

<div class="defun">
&mdash; Function: <b>make-directory-stream</b><var> pathname pointer fd closed?<a name="index-make_002ddirectory_002dstream-2191"></a></var><br>
<blockquote><p>Constructor for <code>directory-stream</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>directory-stream?</b><var> obj<a name="index-directory_002dstream_003f-2192"></a></var><br>
<blockquote><p>Return true if <var>obj</var> is an instance of <code>directory-stream</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>directory-stream-pathname</b><var> stream<a name="index-directory_002dstream_002dpathname-2193"></a></var><br>
&mdash; Function: <b>directory-stream-pointer</b><var> stream<a name="index-directory_002dstream_002dpointer-2194"></a></var><br>
&mdash; Function: <b>directory-stream-fd</b><var> stream<a name="index-directory_002dstream_002dfd-2195"></a></var><br>
&mdash; Function: <b>directory-stream-closed?</b><var> stream<a name="index-directory_002dstream_002dclosed_003f-2196"></a></var><br>
<blockquote><p>Accessors for the fields of <code>directory-stream</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>opendir</b><var> pathname<a name="index-opendir-2197"></a></var><br>
<blockquote><p><a name="index-Opening-a-directory-stream-2198"></a><a name="index-Directories_002c-opening-a-stream-2199"></a>Interface to the C function <code>opendir()</code>, <a href="../libc/Opening-a-Directory.html#Opening-a-Directory">opendir</a>.  Open a directory stream for the inspection of the
file system entry <var>pathname</var>.  If successful return an instance of
<code>directory-stream</code>, else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>fdopendir</b><var> fd<a name="index-fdopendir-2200"></a></var><br>
<blockquote><p>Interface to the C function <code>fdopendir()</code>, <a href="../libc/Opening-a-Directory.html#Opening-a-Directory">fdopendir</a>.  Open a directory stream for the inspection of
the file system entry associated to <var>fd</var>, which must be a fixnum
representing a file descriptor.  If successful return an instance of
<code>directory-stream</code>, else raise an exception. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>readdir</b><var> stream<a name="index-readdir-2201"></a></var><br>
&mdash; Function: <b>readdir/string</b><var> stream<a name="index-readdir_002fstring-2202"></a></var><br>
<blockquote><p><a name="index-Reading-a-directory-stream-2203"></a><a name="index-Directories_002c-reading-a-stream-2204"></a>Interface to the C function <code>readdir()</code>, <a href="../libc/Reading_002fClosing-Directory.html#Reading_002fClosing-Directory">readdir</a>.  Acquire the next entry from a directory stream
referenced by <var>stream</var>, which must be an instance of
<code>directory-stream</code>.  If successful and an entry is available:
<code>readdir</code> returns a pathname as a bytevector, <code>readdir/string</code>
returns a pathname as a string; if successful and no more entries are
available: return <code>#f</code>; else raise an exception.

        <p>When no more entries are available or an error occurs: the directory
stream is closed. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>closedir</b><var> stream<a name="index-closedir-2205"></a></var><br>
<blockquote><p><a name="index-Closing-a-directory-stream-2206"></a><a name="index-Directories_002c-closing-a-stream-2207"></a>Interface to the C function <code>closedir()</code>, <a href="../libc/Reading_002fClosing-Directory.html#Reading_002fClosing-Directory">closedir</a>.  Close the directory stream referenced by
<var>stream</var>, which must be an instance of <code>directory-stream</code>.  If
successful return unspecified values, else raise an exception.

        <p>This function has no effect if <var>stream</var> has been already closed. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>rewinddir</b><var> stream<a name="index-rewinddir-2208"></a></var><br>
<blockquote><p><a name="index-Rewinding-a-directory-stream-2209"></a><a name="index-Directories_002c-rewinding-a-stream-2210"></a>Interface to the C function <code>rewinddir()</code>, <a href="../libc/Random-Access-Directory.html#Random-Access-Directory">rewinddir</a>.  Rewind to the beginning the directory stream
referenced by <var>stream</var>, which must be an instance of
<code>directory-stream</code>.  Return unspecified values. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>telldir</b><var> stream<a name="index-telldir-2211"></a></var><br>
<blockquote><p><a name="index-Inspecting-a-directory-stream-2212"></a><a name="index-Directories_002c-inspecting-a-stream-2213"></a>Interface to the C function <code>telldir()</code>, <a href="../libc/Random-Access-Directory.html#Random-Access-Directory">telldir</a>.  Return an exact integer representing the current
position in the directory stream referenced by <var>stream</var>, which must
be an instance of <code>directory-stream</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>seekdir</b><var> pointer pos<a name="index-seekdir-2214"></a></var><br>
<blockquote><p><a name="index-Seeking-a-directory-stream-2215"></a><a name="index-Directories_002c-seeking-a-stream-2216"></a>Interface to the C function <code>seekdir()</code>, <a href="../libc/Random-Access-Directory.html#Random-Access-Directory">seekdir</a>.  Set to <var>pos</var> the position of the directory
stream referenced by <var>stream</var>, which must be an instance of
<code>directory-stream</code>; <var>pos</var> must be the return value of a
previous call to <code>telldir</code>.  Return unspecified values. 
</p></blockquote></div>

<!-- page -->
   </body></html>

