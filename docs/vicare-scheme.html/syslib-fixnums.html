<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This document describes version 0.4d1 of Vicare Scheme, an
R6RS compliant native compiler for the Scheme language, producing
single threaded programs running on Intel x86 32-bit and 64-bit
processors.  Vicare is pronounced the etruscan way.

The package, including its documentation, is distributed under the terms
of the GNU General Public License (GPL) and can be downloaded
from:

https://bitbucket.org/marcomaggi/vicare-scheme/downloads

the home page of the project is at:

http://marcomaggi.github.io/vicare.html

development takes place at:

http://github.com/marcomaggi/vicare/

and, as a backup, at:

https://bitbucket.org/marcomaggi/vicare-scheme/

Copyright (C) 2010-2017 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

Copyright (C) Michael Sperber, R. Kent Dybvig, Matthew Flatt and Anton Van Straaten.

This document is derived from the original Ikarus documentation by the
Vicare Scheme contributors, see the "History" appendix for details.

The documentation of IrRegex is Copyright (C) 2005-2012 Alex
Shinn.  All rights reserved.

The documentation of Pregexp is Copyright (C) 1999-2005 Dorai
Sitaram.  All rights reserved.

The documentation of the library (vicare formations) is derived
from the documentation of Guile.  Copyright (C) 1996-2005,
2009-2013 Free Software Foundation.

This program is free software: you can redistribute it and/or modify it
under the terms of the GNU General Public License version 3 as
published by the Free Software Foundation.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see
http://www.gnu.org/licenses/.

Trademarks used herein are the property of their respective owners. -->
<!-- Created by GNU Texinfo 6.3, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Vicare Scheme: syslib fixnums</title>

<meta name="description" content="Vicare Scheme: syslib fixnums">
<meta name="keywords" content="Vicare Scheme: syslib fixnums">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="concept-index.html#concept-index" rel="index" title="concept index">
<link href="syslib.html#syslib" rel="up" title="syslib">
<link href="syslib-bignums.html#syslib-bignums" rel="next" title="syslib bignums">
<link href="syslib-keywords.html#syslib-keywords" rel="prev" title="syslib keywords">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="syslib-fixnums"></a>
<div class="header">
<p>
Next: <a href="syslib-bignums.html#syslib-bignums" accesskey="n" rel="next">syslib bignums</a>, Previous: <a href="syslib-keywords.html#syslib-keywords" accesskey="p" rel="prev">syslib keywords</a>, Up: <a href="syslib.html#syslib" accesskey="u" rel="up">syslib</a> &nbsp; [<a href="concept-index.html#concept-index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Low-level-fixnum-operations"></a>
<h3 class="section">12.4 Low level fixnum operations</h3>


<a name="index-_0028vicare-system-_0024fx_0029_002c-library"></a>
<a name="index-Library-_0028vicare-system-_0024fx_0029"></a>


<p>The following bindings are exported by the library <code>(vicare
system $fx)</code>.  The arguments to these operations must be fixnums.
<a href="objects-fixnums.html#objects-fixnums">objects fixnums</a> for details on the representation of fixnums.
</p>

<a name="Predicates-6"></a>
<h4 class="subsubheading">Predicates</h4>

<dl>
<dt><a name="index-_0024fxzero_003f"></a>Unsafe Operation: <strong>$fxzero?</strong> <em><var>fx</var></em></dt>
<dd><p>Evaluate to true if <var>fx</var> is zero.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxpositive_003f"></a>Unsafe Operation: <strong>$fxpositive?</strong> <em><var>fx</var></em></dt>
<dt><a name="index-_0024fxnegative_003f"></a>Unsafe Operation: <strong>$fxnegative?</strong> <em><var>fx</var></em></dt>
<dd><p>Evaluate to true if <var>fx</var> is strictly positive or strictly negative.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxnonpositive_003f"></a>Unsafe Operation: <strong>$fxnonpositive?</strong> <em><var>fx</var></em></dt>
<dt><a name="index-_0024fxnonnegative_003f"></a>Unsafe Operation: <strong>$fxnonnegative?</strong> <em><var>fx</var></em></dt>
<dd><p>Evaluate to true if <var>fx</var> is non&ndash;positive or non&ndash;negative.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxsign"></a>Unsafe Operation: <strong>$fxsign</strong> <em><var>fx</var></em></dt>
<dd><p>Return one of the fixnums <code>+1</code>, <code>-1</code>, <code>0</code> representing
the sign of <var>fx</var>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxeven_003f"></a>Unsafe Operation: <strong>$fxeven?</strong> <em><var>fx</var></em></dt>
<dt><a name="index-_0024fxodd_003f"></a>Unsafe Operation: <strong>$fxodd?</strong> <em><var>fx</var></em></dt>
<dd><p>Evaluate to true if <var>fx</var> is even or odd.
</p></dd></dl>


<a name="Comparison-operations"></a>
<h4 class="subsubheading">Comparison operations</h4>

<dl>
<dt><a name="index-_0024fx_003d"></a>Unsafe Operation: <strong>$fx=</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Evaluate to true if the arguments are equal.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fx_003d_0021"></a>Unsafe Operation: <strong>$fx=!</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Evaluate to true if the arguments are different.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fx_003c"></a>Unsafe Operation: <strong>$fx&lt;</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Evaluate to true if <var>fx1</var> is less than <var>fx2</var>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fx_003c_003d"></a>Unsafe Operation: <strong>$fx&lt;=</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Evaluate to true if <var>fx1</var> is less than or equal to <var>fx2</var>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fx_003e"></a>Unsafe Operation: <strong>$fx&gt;</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Evaluate to true if <var>fx1</var> is greater than <var>fx2</var>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fx_003e_003d"></a>Unsafe Operation: <strong>$fx&gt;=</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Evaluate to true if <var>fx1</var> is greater than or equal to <var>fx2</var>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxmax"></a>Unsafe Operation: <strong>$fxmax</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dt><a name="index-_0024fxmin"></a>Unsafe Operation: <strong>$fxmin</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Return either the maximum or minimum between the arguments.
</p></dd></dl>


<a name="Arithmetic-operations-2"></a>
<h4 class="subsubheading">Arithmetic operations</h4>

<dl>
<dt><a name="index-_0024fxadd1"></a>Unsafe Operation: <strong>$fxadd1</strong> <em><var>fx</var></em></dt>
<dd><p>Increment the operand by one and return the result.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxsub1"></a>Unsafe Operation: <strong>$fxsub1</strong> <em><var>fx</var></em></dt>
<dd><p>Decrement the operand by one and return the result.  The result of this
operation is a fixnum, but notice that if <var>fx</var> is
<code>(least-fixnum)</code>: the result overflows the fixnum capacity and the
return value is invalid.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fx_002b"></a>Unsafe Operation: <strong>$fx+</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Sum the operands and return the result.  The result of this operatio is
a fixnum, but notice that it could overflow the fixnum capacity.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fx_002d"></a>Unsafe Operation: <strong>$fx-</strong> <em><var>fx</var></em></dt>
<dt><a name="index-_0024fx_002d-1"></a>Unsafe Operation: <strong>$fx-</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>With one operand: return <var>fx</var> negated.  With two operands: subtract
the operands and return the result.  The result of this operation is a
fixnum, but notice that it could overflow the fixnum capacity and the
return value would be invalid.
</p>
<p>Also with a single argument, knowing that <code>(- (least-fixnum))</code> is a
bignum, if <var>fx</var> is <code>(least-fixnum)</code> the result overflows the
fixnum capacity and the return value is invalid.
</p>
<p>With two arguments: if <var>fx1</var> is zero and <var>fx2</var> is
<code>(least-fixnum)</code> the result overflows the fixnum capacity and the
return value is invalid.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fx_002a"></a>Unsafe Operation: <strong>$fx*</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Multiply the operands and return the result.  The result of this
operation is a fixnum, but notice that if one operand is <code>-1</code> and
the other is <code>(least-fixnum)</code>: the result overflows the fixnum
capacity and the return value is invalid.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxdiv"></a>Unsafe Operation: <strong>$fxdiv</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dt><a name="index-_0024fxdiv0"></a>Unsafe Operation: <strong>$fxdiv0</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dt><a name="index-_0024fxmod"></a>Unsafe Operation: <strong>$fxmod</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dt><a name="index-_0024fxmod0"></a>Unsafe Operation: <strong>$fxmod0</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dt><a name="index-_0024fxdiv_002dand_002dmod"></a>Unsafe Operation: <strong>$fxdiv-and-mod</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dt><a name="index-_0024fxdiv0_002dand_002dmod0"></a>Unsafe Operation: <strong>$fxdiv0-and-mod0</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Perform the number theoretic division.
</p>
<div class="example">
<pre class="example">(import (rnrs)
  (vicare system $fx))

($fxmod +12 +12)        &rArr; 0
($fxmod +12 -12)        &rArr; 0
($fxmod -12 +12)        &rArr; 0
($fxmod -12 -12)        &rArr; 0

($fxmod +12 +3)         &rArr; 0
($fxmod +12 -3)         &rArr; 0
($fxmod -12 +3)         &rArr; 0
($fxmod -12 -3)         &rArr; 0

($fxmod +12 +4)         &rArr; 0
($fxmod +12 -4)         &rArr; 0
($fxmod -12 +4)         &rArr; 0
($fxmod -12 -4)         &rArr; 0

($fxmod +12 +5)         &rArr; +2
($fxmod +12 -5)         &rArr; +2
($fxmod -12 +5)         &rArr; +3
($fxmod -12 -5)         &rArr; +3

($fxmod +12 +7)         &rArr; +5
($fxmod +12 -7)         &rArr; +5
($fxmod -12 +7)         &rArr; +2
($fxmod -12 -7)         &rArr; +2

($fxmod +12 +24)        &rArr; +12
($fxmod +12 -24)        &rArr; +12
($fxmod -12 +24)        &rArr; +12
($fxmod -12 -24)        &rArr; +12

($fxmod +12 +20)        &rArr; +12
($fxmod +12 -20)        &rArr; +12
($fxmod -12 +20)        &rArr; +8
($fxmod -12 -20)        &rArr; +8
</pre></div>
</dd></dl>


<dl>
<dt><a name="index-_0024fxquotient"></a>Unsafe Operation: <strong>$fxquotient</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Compute the quotient between the operands and return the result.  The
result of this operation is a fixnum, but notice that:
</p>
<ul>
<li> When <var>fx2</var> is <code>0</code>: the result is undefined, most likely the
process will abort.

</li><li> When <var>fx1</var> is <code>(least-fixnum)</code> and <var>fx2</var> is <code>-1</code>: the
result will overflow the fixnum capacity, and the return value will be
invalid (the result should be a bignum).
</li></ul>
</dd></dl>


<dl>
<dt><a name="index-_0024fxmodulo"></a>Unsafe Operation: <strong>$fxmodulo</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Compute the modulo between the operands and return the result.  The
result of this operation can be a fixnum or bignum.
</p>
<div class="example">
<pre class="example">(import (rnrs)
  (vicare system $fx))

($fxmodulo +12 +12)     &rArr; 0
($fxmodulo +12 -12)     &rArr; 0
($fxmodulo -12 +12)     &rArr; 0
($fxmodulo -12 -12)     &rArr; 0

($fxmodulo +12 +3)      &rArr; 0
($fxmodulo +12 -3)      &rArr; 0
($fxmodulo -12 +3)      &rArr; 0
($fxmodulo -12 -3)      &rArr; 0

($fxmodulo +12 +4)      &rArr; 0
($fxmodulo +12 -4)      &rArr; 0
($fxmodulo -12 +4)      &rArr; 0
($fxmodulo -12 -4)      &rArr; 0

($fxmodulo +12 +5)      &rArr; +2
($fxmodulo +12 -5)      &rArr; -3
($fxmodulo -12 +5)      &rArr; +3
($fxmodulo -12 -5)      &rArr; -2

($fxmodulo +12 +7)      &rArr; +5
($fxmodulo +12 -7)      &rArr; -2
($fxmodulo -12 +7)      &rArr; +2
($fxmodulo -12 -7)      &rArr; -5

($fxmodulo +12 +24)     &rArr; +12
($fxmodulo +12 -24)     &rArr; -12
($fxmodulo -12 +24)     &rArr; +12
($fxmodulo -12 -24)     &rArr; -12

($fxmodulo +12 +20)     &rArr; +12
($fxmodulo +12 -20)     &rArr;  -8
($fxmodulo -12 +20)     &rArr;  +8
($fxmodulo -12 -20)     &rArr; -12
</pre></div>
</dd></dl>


<dl>
<dt><a name="index-_0024fxabs"></a>Unsafe Operation: <strong>$fxabs</strong> <em><var>fx</var></em></dt>
<dd><p>Return the absolute value of <var>fx</var> as a fixnum.  When <var>fx</var> is
<code>(least-fixnum)</code>: its absolute value would be a fixnum, in which
case this operation raises an implementation restriction violation.
</p>
<p>To compute the general absolute value without overflow we must use
<code>abs</code> or <code>$abs-fixnum</code>.
</p></dd></dl>


<a name="Bitwise-logic-operations"></a>
<h4 class="subsubheading">Bitwise logic operations</h4>

<dl>
<dt><a name="index-_0024fxnot"></a>Unsafe Operation: <strong>$fxnot</strong> <em><var>fx</var></em></dt>
<dd><p>Perform the bitwise NOT on the operand and return the result.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxand"></a>Unsafe Operation: <strong>$fxand</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Perform the bitwise AND on the operands and return the result.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxior"></a>Unsafe Operation: <strong>$fxior</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Perform the bitwise inclusive OR on the operands and return the result.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxxor"></a>Unsafe Operation: <strong>$fxxor</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Perform the bitwise exclusive OR on the operands and return the result.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxif"></a>Unsafe Operation: <strong>$fxif</strong> <em><var>fx1</var> <var>fx2</var> <var>fx3</var></em></dt>
<dd><p>Return the fixnum that is the bit&ndash;wise &ldquo;if&rdquo; of the two&rsquo;s complement
representations of its arguments, i.e. for each bit, if it is 1 in
<var>fx1</var>, the corresponding bit in <var>fx2</var> becomes the value of the
corresponding bit in the result, and if it is 0, the corresponding bit
in <var>fx3</var> becomes the corresponding bit in the value of the result.
</p></dd></dl>


<a name="Other-bitwise-operations"></a>
<h4 class="subsubheading">Other bitwise operations</h4>

<dl>
<dt><a name="index-_0024fxsll"></a>Unsafe Operation: <strong>$fxsll</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Perform bitwise shift left of <var>fx1</var> by <var>fx2</var> positions and
return the result.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxsra"></a>Unsafe Operation: <strong>$fxsra</strong> <em><var>fx1</var> <var>fx2</var></em></dt>
<dd><p>Perform bitwise shift right of <var>fx1</var> by <var>fx2</var> positions and
return the result.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxcopy_002dbit"></a>Unsafe Operation: <strong>$fxcopy-bit</strong> <em><var>fx1</var> <var>fx2</var> <var>fx3</var></em></dt>
<dd><p>Unsafe version of <code>fxcopy-bit</code>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxcopy_002dbit_002dfield"></a>Unsafe Operation: <strong>$fxcopy-bit-field</strong> <em><var>fx1</var> <var>fx2</var> <var>fx3</var> <var>fx4</var></em></dt>
<dd><p>Unsafe version of <code>fxcopy-bit-field</code>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxrotate_002dbit_002dfield"></a>Unsafe Operation: <strong>$fxrotate-bit-field</strong> <em><var>fx1</var> <var>fx2</var> <var>fx3</var> <var>fx4</var></em></dt>
<dd><p>Unsafe version of <code>fxrotate-bit-field</code>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fxbit_002dfield"></a>Unsafe Operation: <strong>$fxbit-field</strong> <em><var>fx1</var> <var>fx2</var> <var>fx3</var></em></dt>
<dd><p>Unsafe version of <code>fxbit-field</code>.
</p></dd></dl>


<a name="Conversion-operations"></a>
<h4 class="subsubheading">Conversion operations</h4>


<dl>
<dt><a name="index-_0024fixnum_002d_003estring"></a>Unsafe Operation: <strong>$fixnum-&gt;string</strong> <em><var>fx</var> <var>base</var></em></dt>
<dd><p>Return a string object representing <var>fx</var> in <var>base</var>.  <var>base</var>
must be one among: <em>2</em>, <em>8</em>, <em>10</em>, <em>16</em>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fixnum_002d_003echar"></a>Unsafe Operation: <strong>$fixnum-&gt;char</strong> <em><var>fx</var></em></dt>
<dd><p>Return a new character value whose code point equals <var>fx</var>.
</p></dd></dl>


<dl>
<dt><a name="index-_0024char_002d_003efixnum"></a>Unsafe Operation: <strong>$char-&gt;fixnum</strong> <em><var>ch</var></em></dt>
<dd><p>Return a fixnum representing the code point of the operand.
</p></dd></dl>


<dl>
<dt><a name="index-_0024fixnum_002d_003eflonum"></a>Unsafe Operation: <strong>$fixnum-&gt;flonum</strong> <em><var>fx</var></em></dt>
<dd><p>Convert the fixnum operand into a flonum and return a reference to the
result.
</p></dd></dl>


<a name="Miscellaneous-operations-1"></a>
<h4 class="subsubheading">Miscellaneous operations</h4>

<dl>
<dt><a name="index-_0024fxinthash"></a>Unsafe Operation: <strong>$fxinthash</strong> <em><var>fx</var></em></dt>
<dd><p>Evaluate to a fixnum which can be used as hash value.
</p>
<blockquote>
<p><strong>NOTE</strong>  This appears to be unused in the source.
</p></blockquote>
</dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="syslib-bignums.html#syslib-bignums" accesskey="n" rel="next">syslib bignums</a>, Previous: <a href="syslib-keywords.html#syslib-keywords" accesskey="p" rel="prev">syslib keywords</a>, Up: <a href="syslib.html#syslib" accesskey="u" rel="up">syslib</a> &nbsp; [<a href="concept-index.html#concept-index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
