<html lang="en">
<head>
<title>syslib fixnums - Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="syslib.html#syslib" title="syslib">
<link rel="prev" href="syslib-symbols.html#syslib-symbols" title="syslib symbols">
<link rel="next" href="syslib-bignums.html#syslib-bignums" title="syslib bignums">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d2 of Vicare Scheme, an
R6RS compliant native compiler for the Scheme language, producing
single threaded programs running on Intel x86 32-bit processors, with
experimental support for 64-bit machines.  _Vicare_ is pronounced
the etruscan way.

The package, including its documentation, is distributed under the terms
of the GNU General Public License (GPL) and can be downloaded
from:

        `http://sourceforge.net/projects/vicare-scheme/files/'


the home page of the project is at:

              `http://marcomaggi.github.com/vicare.html'


development takes place at:

                `http://github.com/marcomaggi/vicare/'


and, as a backup, at:

                     `http://gitorious.org/vicare'


and at:

           `http://sourceforge.net/projects/vicare-scheme/'


this project has a mailing list:

             `http://groups.google.com/group/vicare-users'


Copyright (C) 2010-2013 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

Copyright (C) Michael Sperber, R. Kent Dybvig, Matthew Flatt and Anton Van Straaten.

This document is derived from the original Ikarus documentation by the
Vicare Scheme contributors, see the ``History'' appendix for details.

     This program is free software: you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     version 3 as published by the Free Software Foundation.

     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program.  If not, see
     `http://www.gnu.org/licenses/'.

Trademarks used herein are the property of their respective owners.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="syslib-fixnums"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="syslib-bignums.html#syslib-bignums">syslib bignums</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="syslib-symbols.html#syslib-symbols">syslib symbols</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="syslib.html#syslib">syslib</a>
<hr>
</div>

<h3 class="section">12.2 Low level fixnum operations</h3>

<p><a name="index-g_t_0040library_007bikarus-system-_0024fx_007d_002c-library-2803"></a><a name="index-Library-_0040library_007bikarus-system-_0024fx_007d-2804"></a><a name="index-g_t_0040library_007bvicare-system-_0024fx_007d_002c-library-2805"></a><a name="index-Library-_0040library_007bvicare-system-_0024fx_007d-2806"></a>

   <p>The following bindings are exported by the libraries <code>(ikarus
system $fx)</code> and <code>(vicare system $fx)</code>.  The arguments to these
operations must be fixnums.  <a href="objects-fixnums.html#objects-fixnums">objects fixnums</a> for details on the
representation of fixnums.

<!--  -->
<h5 class="subsubheading">Predicates</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxzero?</b><var> fx<a name="index-g_t_0024fxzero_003f-2807"></a></var><br>
<blockquote><p>Evaluate to true if <var>fx</var> is zero. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxpositive?</b><var> fx<a name="index-g_t_0024fxpositive_003f-2808"></a></var><br>
&mdash; Unsafe Operation: <b>$fxnegative?</b><var> fx<a name="index-g_t_0024fxnegative_003f-2809"></a></var><br>
<blockquote><p>Evaluate to true if <var>fx</var> is strictly positive or strictly negative. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxnonpositive?</b><var> fx<a name="index-g_t_0024fxnonpositive_003f-2810"></a></var><br>
&mdash; Unsafe Operation: <b>$fxnonnegative?</b><var> fx<a name="index-g_t_0024fxnonnegative_003f-2811"></a></var><br>
<blockquote><p>Evaluate to true if <var>fx</var> is non&ndash;positive or non&ndash;negative. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxsign</b><var> fx<a name="index-g_t_0024fxsign-2812"></a></var><br>
<blockquote><p>Return one of the fixnums <code>+1</code>, <code>-1</code>, <code>0</code> representing
the sign of <var>fx</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxeven?</b><var> fx<a name="index-g_t_0024fxeven_003f-2813"></a></var><br>
&mdash; Unsafe Operation: <b>$fxodd?</b><var> fx<a name="index-g_t_0024fxodd_003f-2814"></a></var><br>
<blockquote><p>Evaluate to true if <var>fx</var> is even or odd. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Comparison operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$fx=</b><var> fx1 fx2<a name="index-g_t_0024fx_003d-2815"></a></var><br>
<blockquote><p>Evaluate to true if the arguments are equal. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fx&lt;</b><var> fx1 fx2<a name="index-g_t_0024fx_003c-2816"></a></var><br>
<blockquote><p>Evaluate to true if <var>fx1</var> is less than <var>fx2</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fx&lt;=</b><var> fx1 fx2<a name="index-g_t_0024fx_003c_003d-2817"></a></var><br>
<blockquote><p>Evaluate to true if <var>fx1</var> is less than or equal to <var>fx2</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fx&gt;</b><var> fx1 fx2<a name="index-g_t_0024fx_003e-2818"></a></var><br>
<blockquote><p>Evaluate to true if <var>fx1</var> is greater than <var>fx2</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fx&gt;=</b><var> fx1 fx2<a name="index-g_t_0024fx_003e_003d-2819"></a></var><br>
<blockquote><p>Evaluate to true if <var>fx1</var> is greater than or equal to <var>fx2</var>. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Arithmetic operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxadd1</b><var> fx<a name="index-g_t_0024fxadd1-2820"></a></var><br>
<blockquote><p>Increment the operand by one and return the result. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxsub1</b><var> fx<a name="index-g_t_0024fxsub1-2821"></a></var><br>
<blockquote><p>Decrement the operand by one and return the result.  The result of this
operation is a fixnum, but notice that if <var>fx</var> is
<code>(least-fixnum)</code>: the result overflows the fixnum capacity and the
return value is invalid. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fx+</b><var> fx1 fx2<a name="index-g_t_0024fx_002b-2822"></a></var><br>
<blockquote><p>Sum the operands and return the result.  The result of this operatio is
a fixnum, but notice that it could overflow the fixnum capacity. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fx-</b><var> fx<a name="index-g_t_0024fx_002d-2823"></a></var><br>
&mdash; Unsafe Operation: <b>$fx-</b><var> fx1 fx2<a name="index-g_t_0024fx_002d-2824"></a></var><br>
<blockquote><p>With one operand: return <var>fx</var> negated.  With two operands: subtract
the operands and return the result.  The result of this operation is a
fixnum, but notice that it could overflow the fixnum capacity and the
return value would be invalid.

        <p>Also with a single argument, knowing that <code>(- (least-fixnum))</code> is a
bignum, if <var>fx</var> is <code>(least-fixnum)</code> the result overflows the
fixnum capacity and the return value is invalid.

        <p>With two arguments: if <var>fx1</var> is zero and <var>fx2</var> is
<code>(least-fixnum)</code> the result overflows the fixnum capacity and the
return value is invalid. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fx*</b><var> fx1 fx2<a name="index-g_t_0024fx_002a-2825"></a></var><br>
<blockquote><p>Multiply the operands and return the result.  The result of this
operation is a fixnum, but notice that if one operand is <code>-1</code> and
the other is <code>(least-fixnum)</code>: the result overflows the fixnum
capacity and the return value is invalid. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxdiv</b><var> fx1 fx2<a name="index-g_t_0024fxdiv-2826"></a></var><br>
&mdash; Unsafe Operation: <b>$fxdiv0</b><var> fx1 fx2<a name="index-g_t_0024fxdiv0-2827"></a></var><br>
&mdash; Unsafe Operation: <b>$fxmod</b><var> fx1 fx2<a name="index-g_t_0024fxmod-2828"></a></var><br>
&mdash; Unsafe Operation: <b>$fxmod0</b><var> fx1 fx2<a name="index-g_t_0024fxmod0-2829"></a></var><br>
&mdash; Unsafe Operation: <b>$fxdiv-and-mod</b><var> fx1 fx2<a name="index-g_t_0024fxdiv_002dand_002dmod-2830"></a></var><br>
&mdash; Unsafe Operation: <b>$fxdiv0-and-mod0</b><var> fx1 fx2<a name="index-g_t_0024fxdiv0_002dand_002dmod0-2831"></a></var><br>
<blockquote><p>Perform the number theoretic division.

     <pre class="example">          (import (rnrs)
            (ikarus system $fx))
          
          ($fxmod +12 +12)        &rArr; 0
          ($fxmod +12 -12)        &rArr; 0
          ($fxmod -12 +12)        &rArr; 0
          ($fxmod -12 -12)        &rArr; 0
          
          ($fxmod +12 +3)         &rArr; 0
          ($fxmod +12 -3)         &rArr; 0
          ($fxmod -12 +3)         &rArr; 0
          ($fxmod -12 -3)         &rArr; 0
          
          ($fxmod +12 +4)         &rArr; 0
          ($fxmod +12 -4)         &rArr; 0
          ($fxmod -12 +4)         &rArr; 0
          ($fxmod -12 -4)         &rArr; 0
          
          ($fxmod +12 +5)         &rArr; +2
          ($fxmod +12 -5)         &rArr; +2
          ($fxmod -12 +5)         &rArr; +3
          ($fxmod -12 -5)         &rArr; +3
          
          ($fxmod +12 +7)         &rArr; +5
          ($fxmod +12 -7)         &rArr; +5
          ($fxmod -12 +7)         &rArr; +2
          ($fxmod -12 -7)         &rArr; +2
          
          ($fxmod +12 +24)        &rArr; +12
          ($fxmod +12 -24)        &rArr; +12
          ($fxmod -12 +24)        &rArr; +12
          ($fxmod -12 -24)        &rArr; +12
          
          ($fxmod +12 +20)        &rArr; +12
          ($fxmod +12 -20)        &rArr; +12
          ($fxmod -12 +20)        &rArr; +8
          ($fxmod -12 -20)        &rArr; +8
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxquotient</b><var> fx1 fx2<a name="index-g_t_0024fxquotient-2832"></a></var><br>
<blockquote><p>Compute the quotient between the operands and return the result.  The
result of this operation is a fixnum, but notice that:

          <ul>
<li>When <var>fx2</var> is <code>0</code>: the result is undefined, most likely the
process will abort.

          <li>When <var>fx1</var> is <code>(least-fixnum)</code> and <var>fx2</var> is <code>-1</code>: the
result will overflow the fixnum capacity, and the return value will be
invalid (the result should be a bignum). 
</ul>
        </p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxmodulo</b><var> fx1 fx2<a name="index-g_t_0024fxmodulo-2833"></a></var><br>
<blockquote><p>Compute the modulo between the operands and return the result.  The
result of this operation can be a fixnum or bignum.

     <pre class="example">          (import (rnrs)
            (ikarus system $fx))
          
          ($fxmodulo +12 +12)     &rArr; 0
          ($fxmodulo +12 -12)     &rArr; 0
          ($fxmodulo -12 +12)     &rArr; 0
          ($fxmodulo -12 -12)     &rArr; 0
          
          ($fxmodulo +12 +3)      &rArr; 0
          ($fxmodulo +12 -3)      &rArr; 0
          ($fxmodulo -12 +3)      &rArr; 0
          ($fxmodulo -12 -3)      &rArr; 0
          
          ($fxmodulo +12 +4)      &rArr; 0
          ($fxmodulo +12 -4)      &rArr; 0
          ($fxmodulo -12 +4)      &rArr; 0
          ($fxmodulo -12 -4)      &rArr; 0
          
          ($fxmodulo +12 +5)      &rArr; +2
          ($fxmodulo +12 -5)      &rArr; -3
          ($fxmodulo -12 +5)      &rArr; +3
          ($fxmodulo -12 -5)      &rArr; -2
          
          ($fxmodulo +12 +7)      &rArr; +5
          ($fxmodulo +12 -7)      &rArr; -2
          ($fxmodulo -12 +7)      &rArr; +2
          ($fxmodulo -12 -7)      &rArr; -5
          
          ($fxmodulo +12 +24)     &rArr; +12
          ($fxmodulo +12 -24)     &rArr; -12
          ($fxmodulo -12 +24)     &rArr; +12
          ($fxmodulo -12 -24)     &rArr; -12
          
          ($fxmodulo +12 +20)     &rArr; +12
          ($fxmodulo +12 -20)     &rArr;  -8
          ($fxmodulo -12 +20)     &rArr;  +8
          ($fxmodulo -12 -20)     &rArr; -12
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxabs</b><var> fx<a name="index-g_t_0024fxabs-2834"></a></var><br>
<blockquote><p>Return the absolute value of <var>fx</var> as a fixnum.  When <var>fx</var> is
<code>(least-fixnum)</code>: its absolute value would be a fixnum, in which
case this operation raises an implementation restriction violation.

        <p>To compute the general absolute value without overflow we must use
<code>abs</code> or <code>$abs-fixnum</code>. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Bitwise logic operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxlognot</b><var> fx<a name="index-g_t_0024fxlognot-2835"></a></var><br>
<blockquote><p>Perform the bitwise NOT on the operand and return the result. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxlogand</b><var> fx1 fx2<a name="index-g_t_0024fxlogand-2836"></a></var><br>
<blockquote><p>Perform the bitwise AND on the operands and return the result. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxlogor</b><var> fx1 fx2<a name="index-g_t_0024fxlogor-2837"></a></var><br>
<blockquote><p>Perform the bitwise inclusive OR on the operands and return the result. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxlogxor</b><var> fx1 fx2<a name="index-g_t_0024fxlogxor-2838"></a></var><br>
<blockquote><p>Perform the bitwise exclusive OR on the operands and return the result. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Other bitwise operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxsll</b><var> fx1 fx2<a name="index-g_t_0024fxsll-2839"></a></var><br>
<blockquote><p>Perform bitwise shift left of <var>fx1</var> by <var>fx2</var> positions and
return the result. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxsra</b><var> fx1 fx2<a name="index-g_t_0024fxsra-2840"></a></var><br>
<blockquote><p>Perform bitwise shift right of <var>fx1</var> by <var>fx2</var> positions and
return the result. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxcopy-bit</b><var> fx1 fx2 fx3<a name="index-g_t_0024fxcopy_002dbit-2841"></a></var><br>
<blockquote><p>Unsafe version of <code>fxcopy-bit</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxcopy-bit-field</b><var> fx1 fx2 fx3 fx4<a name="index-g_t_0024fxcopy_002dbit_002dfield-2842"></a></var><br>
<blockquote><p>Unsafe version of <code>fxcopy-bit-field</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxrotate-bit-field</b><var> fx1 fx2 fx3 fx4<a name="index-g_t_0024fxrotate_002dbit_002dfield-2843"></a></var><br>
<blockquote><p>Unsafe version of <code>fxrotate-bit-field</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxbit-field</b><var> fx1 fx2 fx3<a name="index-g_t_0024fxbit_002dfield-2844"></a></var><br>
<blockquote><p>Unsafe version of <code>fxbit-field</code>. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Miscellaneous operations</h5>

<div class="defun">
&mdash; Unsafe Operation: <b>$fxinthash</b><var> fx<a name="index-g_t_0024fxinthash-2845"></a></var><br>
<blockquote><p>Evaluate to a fixnum which can be used as hash value.

        <blockquote>
<strong>NOTE</strong>  This appears to be unused in the source. 
</blockquote>
        </p></blockquote></div>

<!-- page -->
   </body></html>

