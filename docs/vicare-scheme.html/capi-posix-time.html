<html lang="en">
<head>
<title>capi posix time - Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="capi-posix.html#capi-posix" title="capi posix">
<link rel="prev" href="capi-posix-job.html#capi-posix-job" title="capi posix job">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d6 of Vicare Scheme, an
R6RS compliant native compiler for the Scheme language, producing
single threaded programs running on Intel x86 32-bit processors, with
experimental support for 64-bit machines.  _Vicare_ is pronounced
the etruscan way.

The package, including its documentation, is distributed under the terms
of the GNU General Public License (GPL) and can be downloaded
from:

        `http://sourceforge.net/projects/vicare-scheme/files/'


the home page of the project is at:

              `http://marcomaggi.github.com/vicare.html'


development takes place at:

                `http://github.com/marcomaggi/vicare/'


and, as a backup, at:

                     `http://gitorious.org/vicare'


and at:

           `http://sourceforge.net/projects/vicare-scheme/'


this project has a mailing list:

             `http://groups.google.com/group/vicare-users'


Copyright (C) 2010-2013 by Marco Maggi.

Copyright (C) 2006-2010 by Abdulaziz Ghuloum.

Copyright (C) Michael Sperber, R. Kent Dybvig, Matthew Flatt and Anton Van Straaten.

This document is derived from the original Ikarus documentation by the
Vicare Scheme contributors, see the ``History'' appendix for details.

The documentation of IrRegex is Copyright (C) 2005-2012 Alex
Shinn.  All rights reserved.

The documentation of Pregexp is Copyright (C) 1999-2005 Dorai
Sitaram.  All rights reserved.

The documentation of the library `(vicare formations)' is derived
from the documentation of Guile.  Copyright (C) 1996-2005,
2009-2013 Free Software Foundation.

     This program is free software: you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     version 3 as published by the Free Software Foundation.

     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program.  If not, see
     `http://www.gnu.org/licenses/'.

Trademarks used herein are the property of their respective owners.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="capi-posix-time"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="capi-posix-job.html#capi-posix-job">capi posix job</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="capi-posix.html#capi-posix">capi posix</a>
<hr>
</div>

<h4 class="subsection">9.2.17 Date and time</h4>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_clock</b> (<var>ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005fclock-3168"></a></var><br>
<blockquote><p>Interface to the C function <code>clock()</code>, <a href="../libc/CPU-Time.html#CPU-Time">clock</a>. 
If successful return an <strong>inexact</strong> integer representing the CPU
time for the calling process expressed in clock ticks; if the clock time
is not available return false. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_times</b> (<var>ikptr rtd, ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005ftimes-3169"></a></var><br>
<blockquote><p>Interface to the C function <code>times()</code>, <a href="../libc/Processor-Time.html#Processor-Time">times</a>.  If successful return an instance of <code>struct-tms</code>
representing the current processor time with all the fields set to
inexact integers, else return false; <var>rtd</var> must be the type
descriptor of <code>struct-tms</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_time</b> (<var>ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005ftime-3170"></a></var><br>
<blockquote><p>Interface to the C function <code>time()</code>, <a href="../libc/Simple-Calendar-Time.html#Simple-Calendar-Time">time</a>.  If successful return the calendar time as an
<strong>inexact</strong> integer, else return false. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_gettimeofday</b> (<var>ikptr rtd, ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005fgettimeofday-3171"></a></var><br>
<blockquote><p>Interface to the C function <code>gettimeofday()</code>,
<a href="../libc/High_002dResolution-Calendar.html#High_002dResolution-Calendar">gettimeofday</a>.  Acquire the current
time.  If successful return an instance of <code>struct-timeval</code>, else
return an encoded <code>errno</code> value.  <var>rtd</var> must be the type
descriptor of <code>struct-timeval</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_localtime</b> (<var>ikptr rtd, ikptr time, ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005flocaltime-3172"></a></var><br>
<blockquote><p>Interface to the C function <code>localtime()</code>, <a href="../libc/Broken_002ddown-Time.html#Broken_002ddown-Time">localtime</a>.  Given an exact integer <var>time</var> representing the
local time as returned by the <code>time</code> function: build and return an
instance of <code>struct-tm</code> representing the same time in human
readable form; if an error occurs return false.  <var>rtd</var> must be the
type descriptor of <code>struct-tm</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_gmtime</b> (<var>ikptr rtd, ikptr time, ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005fgmtime-3173"></a></var><br>
<blockquote><p>Interface to the C function <code>gmtime()</code>, <a href="../libc/Broken_002ddown-Time.html#Broken_002ddown-Time">gmtime</a>.  Given an exact integer <var>time</var> representing the <acronym>UTC</acronym> time
as returned by the <code>time</code> function: build and return an instance of
<code>struct-tm</code> representing the same time in human readable form; if
an error occurs return false.  <var>rtd</var> must be the type descriptor of
<code>struct-tm</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_timelocal</b> (<var>ikptr tm, ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005ftimelocal-3174"></a></var><br>
<blockquote><p>Interface to the C function <code>timelocal()</code>, <a href="../libc/Broken_002ddown-Time.html#Broken_002ddown-Time">timelocal</a>.  Given a reference to a <code>struct-rm</code>, <var>tm</var>,
representing a local broken time, convert it into a time value as
returned by <code>time()</code>.  If successful return an <strong>inexact</strong>
integer representing the time value, else return false. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_timegm</b> (<var>ikptr tm, ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005ftimegm-3175"></a></var><br>
<blockquote><p>Interface to the C function <code>timegm()</code>, <a href="../libc/Broken_002ddown-Time.html#Broken_002ddown-Time">timegm</a>.  Given a reference to a <code>struct-rm</code>, <var>tm</var>,
representing a <acronym>UTC</acronym> broken time, convert it into a time value as
returned by <code>time()</code>.  If successful return an <strong>inexact</strong>
integer representing the time value, else return false. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_posix_strftime</b> (<var>ikptr template, ikptr tm, ikpcb * pcb</var>)<var><a name="index-ikrt_005fposix_005fstrftime-3176"></a></var><br>
<blockquote><p>Interface to the C function <code>strftime()</code>, <a href="../libc/Formatting-Calendar-Time.html#Formatting-Calendar-Time">strftime</a>.  Given a bytevector <var>template</var> holding an
<acronym>ASCII</acronym> coded format string and a <code>struct-tm</code> instance <var>tm</var>:
build a formatted time string; the resulting time string can be at most
4096 bytes wide.  If successful return a bytevector holding the
time string in <acronym>ASCII</acronym> coding, else return false. 
</p></blockquote></div>

<!--  -->
<div class="defun">
&mdash; Function: ikptr <b>ikrt_nanosleep</b> (<var>ikptr secs, ikptr nsecs</var>)<var><a name="index-ikrt_005fnanosleep-3177"></a></var><br>
<blockquote><p>Interface to the C function <code>nanosleep()</code>, <a href="../libc/Sleeping.html#Sleeping">nanosleep</a>.  Halt the current process for the specified amount of time.

        <p>The count of seconds <var>secs</var> must be an exact integer in the range
[0, 2^32); the count of nanoseconds <var>nsecs</var> must be an exact
integer in the range [0, 999999999].

        <p>If successful and the requested time is elapsed: return a pair whose car
is false and whose cdr is false.  If successful and the sleeping was
interrupted by an interprocess signal: return a pair whose car is an
exact integer representing the count of remaining seconds and whose cdr
is an exact integer representing the count of remaining nanoseconds.  If
an error occurs return an encoded <code>errno</code> value. 
</p></blockquote></div>

<!--  -->
<div class="defun">
&mdash; Function: ikptr <b>ikrt_current_time</b> (<var>ikptr time</var>)<var><a name="index-ikrt_005fcurrent_005ftime-3178"></a></var><br>
<blockquote><p>Interface to the <code>gettimeofday()</code> C function. 
<a href="../libc/High_002dResolution-Calendar.html#High_002dResolution-Calendar">gettimeofday</a>.  Retrieve the current
time.  <var>time</var> must reference a <code>time</code> internal structure, which
is filled with three values: megaseconds, seconds and microseconds. 
Always return <var>time</var> itself. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: ikptr <b>ikrt_gmt_offset</b> (<var>ikptr time</var>)<var><a name="index-ikrt_005fgmt_005foffset-3179"></a></var><br>
<blockquote><p>Compute the offset in seconds between the local time and the
<acronym>UTC</acronym> time.  <var>time</var> must reference a <code>time</code> internal
structure, already filled with megaseconds, seconds and microseconds. 
Return a fixnum representing the offset. 
</p></blockquote></div>

<!-- page -->
   </body></html>

