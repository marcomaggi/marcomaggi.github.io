<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This document describes version 3.0.0-devel.9 of MBFL, a collection of libraries of
functions for the GNU Bash shell.  It requires GNU Bash at least version
4.3; it require GNU m4 (other m4 implementations will not do).  The
package is distributed under the terms of the GNU Lesser General Public License (LGPL).

The latest release can be downloaded from:

https://bitbucket.org/marcomaggi/mbfl/downloads

development takes place at:

https://github.com/marcomaggi/mbfl

and as backup at:

https://bitbucket.org/marcomaggi/mbfl

Copyright Â© 2003-2005, 2009-2010, 2012-2015, 2017-2018, 2020, 2022, 2023, 2024 by Marco Maggi mrc.mgg@gmail.com

Permission is granted to copy, distribute and/or modify this document under the terms of the GNU
Free Documentation License, Version 1.3 or any later version published by the Free Software
Foundation; with Invariant Sections being "GNU Free Documentation License" and "GNU Lesser
General Public License", no Front-Cover Texts, and no Back-Cover Texts.  A copy of the license is
included in the section entitled "GNU Free Documentation License". -->
<title>getopts arguments (Marco&rsquo;s Bash Functions Libraries)</title>

<meta name="description" content="getopts arguments (Marco&rsquo;s Bash Functions Libraries)">
<meta name="keywords" content="getopts arguments (Marco&rsquo;s Bash Functions Libraries)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="concept-index.html" rel="index" title="concept index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="getopts.html" rel="up" title="getopts">
<link href="getopts-usage.html" rel="next" title="getopts usage">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="mbfl.css">


</head>

<body lang="en">
<div class="section-level-extent" id="getopts-arguments">
<div class="nav-panel">
<p>
Next: <a href="getopts-usage.html" accesskey="n" rel="next">Using the module</a>, Up: <a href="getopts.html" accesskey="u" rel="up">Parsing command line options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Arguments"><span>17.1 Arguments<a class="copiable-link" href="#Arguments"> &para;</a></span></h3>


<p>The <code class="code">main</code> module contains, at the root level, a block of code like
the following:
</p>
<div class="example">
<pre class="example-preformatted">declare -i ARGC=0 ARGC1=0 ARG1ST=0
declare -a ARGV ARGV1

for ((ARGC1=0; $# &gt; 0; ++ARGC1))
do
    ARGV1[$ARGC1]=$1
    shift
done
</pre></div>

<p>this block is executed when <abbr class="acronym">MBFL</abbr> (and the script that loads it) is
evaluated.  Its purpose is to store command line arguments in the global
array <code class="code">ARGV1</code> and the number of command line arguments in the
global variable <code class="code">ARGC1</code>; the variable <code class="code">ARG1ST</code> references the
next argument in <code class="code">ARGV1</code> that must be processed.
</p>
<p>The global array <code class="code">ARGV</code> and the global variable <code class="code">ARGC</code> are
predefined and should be used by the <code class="code">mbfl_getopts_*</code> functions to
store non&ndash;option command line arguments.  Processing performed by the
<code class="code">getopts</code> module must happen after processing performed by the
<code class="code">actions</code> module.
</p>
<p>Example:
</p>
<div class="example">
<pre class="example-preformatted">$ script --gulp wo --gasp=123 wa
</pre></div>

<p>if the script makes use of <abbr class="acronym">MBFL</abbr>, the strings <code class="code">wo</code> and <code class="code">wa</code>
will go into <code class="code">ARGV</code> and <code class="code">ARGC</code> will be set to 2.  The option
arguments are processed and some action is performed to register them.
</p>
<p>We can access the non&ndash;option arguments with the following code:
</p>
<div class="example">
<pre class="example-preformatted">for ((i=0; $i &lt; $ARGC; ++i))
do
    # do something with ${ARGV[$i]}
done
</pre></div>

<p>When using the <code class="code">actions</code> module: the first arguments can be
interpreted as special values that select an action to be performed by
the script; in such case the first argument is removed from the
<code class="code">ARGV</code> array, so that processing the other arguments is not
affected.  <a class="ref" href="actions-intro.html">Introduction to action trees</a>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="getopts-usage.html">Using the module</a>, Up: <a href="getopts.html">Parsing command line options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p>
</div>


<p>This document describes version <tt>3.0.0-devel.9</tt> of <em>Marcos Bash Functions Library</em>.</p>
</body>
</html>
