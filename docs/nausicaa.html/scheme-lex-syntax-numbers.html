<html lang="en">
<head>
<title>scheme lex syntax numbers - Nausicaa for Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Nausicaa for Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="scheme-lex-syntax.html#scheme-lex-syntax" title="scheme lex syntax">
<link rel="prev" href="scheme-lex-syntax-strings.html#scheme-lex-syntax-strings" title="scheme lex syntax strings">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.2d5 of Nausicaa/Scheme, a set of
Scheme libraries defining a slightly modified R6RS Scheme language
and augmenting the features of the base and standard R6RS libraries.

The project home page of Nausicaa is at:

             `http://marcomaggi.github.com/nausicaa.html'


development of Nausicaa takes place at:

               `http://github.com/marcomaggi/nausicaa/'


Copyright (C) 2008, 2009, 2010 by Marco Maggi.

Copyright (C) 1996, 1997, 2000, 2001, 2002, 2003, 2004, 2005
Free Software Foundation.

Copyright (C) 1996, 1999-2005 Dorai Sitaram.

Copyright (C) 1998 Oleg Kiselyov.

Copyright (C) 1998, 1999, 2000 Olin Shivers.

Copyright (C) 1999 John David Stone.

Copyright (C) 1999, 2002 Marc Feeley.

Copyright (C) 2001, 2009 Danny Dube'

Copyright (C) 2002 Dr. Mirko Luedde.

Copyright (C) 2002, 2003, 2005, 2006 Sebastian Egner.

Copyright (C) 2003 Ray Dillinger.

Copyright (C) 2003 Taylor Campbell.

Copyright (C) 2005 Jens Axel Soegaard.

Copyright (C) 2005-2009 Alex Shinn.

Copyright (C) 2008 Taro Minowa (Higepon).

Copyright (C) 2005-2008 Dominique Boucher.

Copyright (C) 2004, 2005 Tony Garnock-Jones

Copyright (C) 2005 LShift Ltd.

Copyright (C) 2007, 2008 Philip L. Bewig.

Copyright (C) 2000 Will Fitzgerald.

Copyright (C) 2000 Neodesic Corporation.

Copyright (C) 2000-2006 Joachim Henke.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections being ``GNU Free
     Documentation License'' and ``GNU General Public License'', no
     Front--Cover Texts, and no Back--Cover Texts.  A copy of the
     license is included in the section entitled ``GNU Free
     Documentation License''.

This document embeds an unofficial assemblage of several documents
reformatted in Texinfo; the reformatting author and maintainer is
Marco Maggi <marco.maggi-ipsu@poste.it>.  See the appendix ``Credits'' for
the list of original documents and their authors.  See also the
`README' and `CREDITS' files for additional attributions.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="scheme-lex-syntax-numbers"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="scheme-lex-syntax-strings.html#scheme-lex-syntax-strings">scheme lex syntax strings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="scheme-lex-syntax.html#scheme-lex-syntax">scheme lex syntax</a>
<hr>
</div>

<h5 class="subsubsection">2.4.3.8 Numbers</h5>

<p>The syntax of external representations for number objects is described
formally by the <var>&lt;number&gt;</var> rule in the formal grammar.  Case is not
significant in external representations of number objects.

   <p>A representation of a number object may be written in binary, octal,
decimal, or hexadecimal by the use of a radix prefix.  The radix
prefixes are <code>#b</code> (binary), <code>#o</code> (octal), <code>#d</code> (decimal),
and <code>#x</code> (hexadecimal).  With no radix prefix, a representation of
a number object is assumed to be expressed in decimal.

   <p>A representation of a number object may be specified to be either exact
or inexact by a prefix.  The prefixes are <code>#e</code> for exact, and
<code>#i</code> for inexact.  An exactness prefix may appear before or after
any radix prefix that is used.  If the representation of a number object
has no exactness prefix, the constant is inexact if it contains a
decimal point, an exponent, or a nonempty mantissa width; otherwise it
is exact.

   <p>In systems with inexact number objects of varying precisions, it may be
useful to specify the precision of a constant.  For this purpose,
representations of number objects may be written with an exponent marker
that indicates the desired precision of the inexact representation.  The
letters <code>s</code>, <code>f</code>, <code>d</code>, and <code>l</code> specify the use of
<em>short</em>, <em>single</em>, <em>double</em>, and <em>long</em> precision,
respectively.  (When fewer than four internal inexact representations
exist, the four size specifications are mapped onto those available. 
For example, an implementation with two internal representations may map
short and single together and long and double together.)  In addition,
the exponent marker <code>e</code> specifies the default precision for the
implementation.  The default precision has at least as much precision as
<em>double</em>, but implementations may wish to allow this default to be
set by the user.

<pre class="example">     3.1415926535898F0
            Round to single, perhaps 3.141593
     0.6L0
            Extend to long, perhaps .600000000000000
</pre>
   <p>A representation of a number object with nonempty mantissa width,
<code>x|p</code>, represents the best binary floating&ndash;point approximation of
<em>x</em> using a <em>p</em>&ndash;bit significand.  For example, <code>1.1|53</code>
is a representation of the best approximation of 1.1 in <acronym>IEEE</acronym> double
precision.  If <em>x</em> is an external representation of an inexact real
number object that contains no vertical bar, then its numerical value
should be computed as though it had a mantissa width of 53 or more.

   <p>Implementations that use binary floating&ndash;point representations of real
number objects should represent <code>x|p</code> using a <em>p</em>&ndash;bit
significand if practical, or by a greater precision if a <em>p</em>&ndash;bit
significand is not practical, or by the largest available precision if
<em>p</em> or more bits of significand are not practical within the
implementation.

   <blockquote>
<em>Note</em> The precision of a significand should not be confused with
the number of bits used to represent the significand.  In the <acronym>IEEE</acronym>
floating&ndash;point standards, for example, the significand's most
significant bit is implicit in single and double precision but is
explicit in extended precision.  Whether that bit is implicit or
explicit does not affect the mathematical precision.  In implementations
that use binary floating point, the default precision can be calculated
by calling the following procedure:

<pre class="example">     (define (precision)
       (do ([n 0 (+ n 1)]
            [x 1.0 (/ x 2.0)])
         ((= 1.0 (+ 1.0 x)) n)))
</pre>
   </blockquote>

   <blockquote>
<em>Note</em> When the underlying floating&ndash;point representation is
<acronym>IEEE</acronym> double precision, the <code>|p</code> suffix should not always be
omitted: Denormalized floating&ndash;point numbers have diminished precision,
and therefore their external representations should carry a <code>|p</code>
suffix with the actual width of the significand. 
</blockquote>

   <p>The literals <code>+inf.0</code> and <code>-inf.0</code> represent positive and
negative infinity, respectively.  The <code>+nan.0</code> literal represents
the NaN that is the result of <code>(/ 0.0 0.0)</code>, and may represent
other NaNs as well.  The <code>-nan.0</code> literal also represents a NaN.

   <p>If <em>x</em> is an external representation of an inexact real number
object and contains no vertical bar and no exponent marker other than
<code>e</code>, the inexact real number object it represents is a flonum (see
library section &ldquo;Flonums&rdquo;).  Some or all of the other external
representations of inexact real number objects may also represent
flonums, but that is not required by this report.

<!-- page -->
   </body></html>

