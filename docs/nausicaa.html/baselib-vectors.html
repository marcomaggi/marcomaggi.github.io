<html lang="en">
<head>
<title>baselib vectors - Nausicaa for Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Nausicaa for Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="baselib.html#baselib" title="baselib">
<link rel="prev" href="baselib-strings.html#baselib-strings" title="baselib strings">
<link rel="next" href="baselib-errors.html#baselib-errors" title="baselib errors">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.2d7 of Nausicaa/Scheme, a set of
Scheme libraries defining a slightly modified R6RS Scheme language
and augmenting the features of the base and standard R6RS libraries.

The project home page of Nausicaa is at:

             `http://marcomaggi.github.com/nausicaa.html'


development of Nausicaa takes place at:

               `http://github.com/marcomaggi/nausicaa/'


Copyright (C) 2008, 2009, 2010 by Marco Maggi.

Copyright (C) 1996, 1997, 2000, 2001, 2002, 2003, 2004, 2005
Free Software Foundation.

Copyright (C) 1996, 1999-2005 Dorai Sitaram.

Copyright (C) 1998 Oleg Kiselyov.

Copyright (C) 1998, 1999, 2000 Olin Shivers.

Copyright (C) 1999 John David Stone.

Copyright (C) 1999, 2002 Marc Feeley.

Copyright (C) 2001, 2009 Danny Dube'

Copyright (C) 2002 Dr. Mirko Luedde.

Copyright (C) 2002, 2003, 2005, 2006 Sebastian Egner.

Copyright (C) 2003 Ray Dillinger.

Copyright (C) 2003 Taylor Campbell.

Copyright (C) 2005 Jens Axel Soegaard.

Copyright (C) 2005-2009 Alex Shinn.

Copyright (C) 2008 Taro Minowa (Higepon).

Copyright (C) 2005-2008 Dominique Boucher.

Copyright (C) 2004, 2005 Tony Garnock-Jones

Copyright (C) 2005 LShift Ltd.

Copyright (C) 2007, 2008 Philip L. Bewig.

Copyright (C) 2000 Will Fitzgerald.

Copyright (C) 2000 Neodesic Corporation.

Copyright (C) 2000-2006 Joachim Henke.

Copyright (C) 2004-2009 Neil Van Dyke.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections being ``GNU Free
     Documentation License'' and ``GNU General Public License'', no
     Front--Cover Texts, and no Back--Cover Texts.  A copy of the
     license is included in the section entitled ``GNU Free
     Documentation License''.

This document embeds an unofficial assemblage of several documents
reformatted in Texinfo; the reformatting author and maintainer is
Marco Maggi <marco.maggi-ipsu@poste.it>.  See the appendix ``Credits'' for
the list of original documents and their authors.  See also the
`README' and `CREDITS' files for additional attributions.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="baselib-vectors"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="baselib-errors.html#baselib-errors">baselib errors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="baselib-strings.html#baselib-strings">baselib strings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="baselib.html#baselib">baselib</a>
<hr>
</div>

<h3 class="section">3.12 Vectors</h3>

<p>Vectors are heterogeneous structures whose elements are indexed by
integers.  A vector typically occupies less space than a list of the
same length, and the average time needed to access a randomly chosen
element is typically less for the vector than for the list.

   <p>The <em>length</em> of a vector is the number of elements that it
contains.  This number is a non&ndash;negative integer that is fixed when the
vector is created.  The <em>valid indices</em> of a vector are the exact
non&ndash;negative integer objects less than the length of the vector.  The
first element in a vector is indexed by zero, and the last element is
indexed by one less than the length of the vector.

   <p>Like list constants, vector constants must be quoted:

<pre class="example">     '#(0 (2 2 2 2) "Anna")     &rArr;  #(0 (2 2 2 2) "Anna")
</pre>
   <div class="defun">
&mdash; Procedure: <b>vector?</b><var> obj<a name="index-vector_003f-199"></a></var><br>
<blockquote><p>Return <code>#t</code> if <var>obj</var> is a vector, <code>#f</code> otherwise. 
</p></blockquote></div>

<div class="defun">
&mdash; Procedure: <b>make-vector</b><var> k<a name="index-make_002dvector-200"></a></var><br>
&mdash; Procedure: <b>make-vector</b><var> k fill<a name="index-make_002dvector-201"></a></var><br>
<blockquote><p>Return a newly allocated vector of <var>k</var> elements.  If a second
argument is given, then each element is initialized to <var>fill</var>. 
Otherwise the initial contents of each element is unspecified. 
</p></blockquote></div>

<div class="defun">
&mdash; Procedure: <b>vector</b><var> obj <small class="dots">...</small><a name="index-vector-202"></a></var><br>
<blockquote><p>Return a newly allocated vector whose elements contain the given
arguments.  Analogous to <code>list</code>.

     <pre class="example">          (vector 'a 'b 'c)               &rArr;  #(a b c)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Procedure: <b>vector-length</b><var> vector<a name="index-vector_002dlength-203"></a></var><br>
<blockquote><p>Return the number of elements in <var>vector</var> as an exact integer
object. 
</p></blockquote></div>

<div class="defun">
&mdash; Procedure: <b>vector-ref</b><var> vector k<a name="index-vector_002dref-204"></a></var><br>
<blockquote><p><var>k</var> must be a valid index of <var>vector</var>.  The <code>vector-ref</code>
procedure returns the contents of element <var>k</var> of <var>vector</var>.

     <pre class="example">          (vector-ref '#(1 1 2 3 5 8 13 21) 5)     &rArr;  8
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Procedure: <b>vector-set!</b><var> vector k obj<a name="index-vector_002dset_0021-205"></a></var><br>
<blockquote><p><var>k</var> must be a valid index of <var>vector</var>.  The <code>vector-set!</code>
procedure stores <var>obj</var> in element <var>k</var> of <var>vector</var>, and
returns unspecified.

        <p>Passing an immutable vector to <code>vector-set!</code> should cause an
exception with condition type <code>&amp;assertion</code> to be raised.

     <pre class="example">          (let ((vec (vector 0 '(2 2 2 2) "Anna")))
            (vector-set! vec 1 '("Sue" "Sue"))
            vec)
          &rArr;  #(0 ("Sue" "Sue") "Anna")
          
          (vector-set! '#(0 1 2) 1 "doe")
          &rArr;  unspecified
              ;; constant vector
              ;; should raise exception &amp;assertion
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Procedure: <b>vector-&gt;list</b><var> vector<a name="index-vector_002d_003elist-206"></a></var><br>
&mdash; Procedure: <b>list-&gt;vector</b><var> list<a name="index-list_002d_003evector-207"></a></var><br>
<blockquote><p>The <code>vector-&gt;list</code> procedure returns a newly allocated list of the
objects contained in the elements of <var>vector</var>.

        <p>The <code>list-&gt;vector</code> procedure returns a newly created vector
initialized to the elements of the list <var>list</var>.

     <pre class="example">          (vector-&gt;list '#(dah dah didah))        &rArr; (dah dah didah)
          (list-&gt;vector '(dididit dah))           &rArr; #(dididit dah)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Procedure: <b>vector-fill!</b><var> vector fill<a name="index-vector_002dfill_0021-208"></a></var><br>
<blockquote><p>Store <var>fill</var> in every element of <var>vector</var> and returns
unspecified. 
</p></blockquote></div>

<div class="defun">
&mdash; Procedure: <b>vector-map</b><var> proc vector1 vector2 <small class="dots">...</small><a name="index-vector_002dmap-209"></a></var><br>
<blockquote><p>The <var>vector</var>s must all have the same length.  <var>proc</var> should
accept as many arguments as there are <var>vector</var>s and return a single
value.

        <p>The <code>vector-map</code> procedure applies <var>proc</var> element&ndash;wise to the
elements of the <var>vector</var>s and returns a vector of the results, in
order.  <var>proc</var> is always called in the same dynamic environment as
<code>vector-map</code> itself.  The order in which <var>proc</var> is applied to
the elements of the <var>vector</var>s is unspecified.  If multiple returns
occur from <code>vector-map</code>, the return values returned by earlier
returns are not mutated.

        <p>Analogous to <code>map</code>.

        <p><strong>Implementation responsibilities:</strong> The implementation must check
the restrictions on <var>proc</var> to the extent performed by applying it as
described.  An implementation may check whether <var>proc</var> is an
appropriate argument before applying it. 
</p></blockquote></div>

<div class="defun">
&mdash; Procedure: <b>vector-for-each</b><var> proc vector1 vector2 <small class="dots">...</small><a name="index-vector_002dfor_002deach-210"></a></var><br>
<blockquote><p>The <var>vector</var>s must all have the same length.  <var>proc</var> should
accept as many arguments as there are <var>vector</var>s.  The
<code>vector-for-each</code> procedure applies <var>proc</var> element&ndash;wise to the
elements of the <var>vector</var>s for its side effects, in order from the
first elements to the last.  <var>proc</var> is always called in the same
dynamic environment as <code>vector-for-each</code> itself.  The return values
of <code>vector-for-each</code> are unspecified.

        <p>Analogous to <code>for-each</code>.

        <p><strong>Implementation responsibilities:</strong> The implementation must check
the restrictions on <var>proc</var> to the extent performed by applying it as
described.  An implementation may check whether <var>proc</var> is an
appropriate argument before applying it. 
</p></blockquote></div>

<!-- page -->
   </body></html>

