<html lang="en">
<head>
<title>pathnames native - Nausicaa for Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Nausicaa for Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="pathnames.html#pathnames" title="pathnames">
<link rel="prev" href="pathnames-abstract.html#pathnames-abstract" title="pathnames abstract">
<link rel="next" href="pathnames-unix.html#pathnames-unix" title="pathnames unix">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.2d14 of Nausicaa/Scheme, a set of
Scheme libraries defining a slightly modified R6RS Scheme language
and augmenting the features of the base and standard R6RS libraries.

The project home page of Nausicaa is at:

             `http://marcomaggi.github.com/nausicaa.html'


development of Nausicaa/Scheme takes place at:

            `http://github.com/marcomaggi/nausicaa-scheme/'


Copyright (C) 2008-2012 by Marco Maggi.

Copyright (C) 1996, 1997, 2000, 2001, 2002, 2003, 2004, 2005
Free Software Foundation.

Copyright (C) 1996, 1999-2005 Dorai Sitaram.

Copyright (C) 1998 Oleg Kiselyov.

Copyright (C) 1998, 1999, 2000 Olin Shivers.

Copyright (C) 1999 John David Stone.

Copyright (C) 1999, 2002 Marc Feeley.

Copyright (C) 2001, 2009 Danny Dube'

Copyright (C) 2002 Dr. Mirko Luedde.

Copyright (C) 2002, 2003, 2005, 2006 Sebastian Egner.

Copyright (C) 2003 Ray Dillinger.

Copyright (C) 2003 Taylor Campbell.

Copyright (C) 2005 Jens Axel Soegaard.

Copyright (C) 2005-2009 Alex Shinn.

Copyright (C) 2008 Taro Minowa (Higepon).

Copyright (C) 2005-2008 Dominique Boucher.

Copyright (C) 2004, 2005 Tony Garnock-Jones

Copyright (C) 2005 LShift Ltd.

Copyright (C) 2007, 2008 Philip L. Bewig.

Copyright (C) 2000 Will Fitzgerald.

Copyright (C) 2000 Neodesic Corporation.

Copyright (C) 2000-2006 Joachim Henke.

Copyright (C) 2004-2009 Neil Van Dyke.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections being ``GNU Free
     Documentation License'' and ``GNU General Public License'', no
     Front--Cover Texts, and no Back--Cover Texts.  A copy of the
     license is included in the section entitled ``GNU Free
     Documentation License''.

This document embeds an unofficial assemblage of several documents
reformatted in Texinfo; the reformatting author and maintainer is
Marco Maggi <marco.maggi-ipsu@poste.it>.  See the appendix ``Credits'' for
the list of original documents and their authors.  See also the
`README' and `CREDITS' files for additional attributions.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="pathnames-native"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="pathnames-unix.html#pathnames-unix">pathnames unix</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="pathnames-abstract.html#pathnames-abstract">pathnames abstract</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="pathnames.html#pathnames">pathnames</a>
<hr>
</div>

<h3 class="section">42.3 Manipulating native pathnames</h3>

<p><a name="index-g_t_0040library_007bnausicaa-pathnames_007d_002c-library-3765"></a><a name="index-Library-_0040library_007bnausicaa-pathnames_007d-3766"></a>

   <p>The library <code>(nausicaa pathnames)</code> is meant to export an interface
which always handles native pathnames for the current platform; for
example, on Unix systems it reexports the bindings from
<code>(nausicaa pathnames unix)</code>.

   <p>The platform&ndash;specific library is selected at package configuration time
using the <samp><span class="option">--with-platform-pathname</span></samp> option, whose default value
is <code>unix</code>.

   <p>The following definitions are a description of the <acronym>API</acronym> which must be
made available by the platform&ndash;specific pathname libraries. 
Platform&ndash;specific pathname classes are free to augment this <acronym>API</acronym> with
additional features, but these features cannot be made available in the
native pathnames library.

<div class="defun">
&mdash; Class: <b>&lt;pathname&gt;</b><var><a name="index-g_t_0040aclass_007bpathname_007d-3767"></a></var><br>
<blockquote><p>This is the same binding exported by <code>(nausicaa pathnames
abstract)</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Class: <b>&lt;absolute-pathname&gt;</b><var><a name="index-g_t_0040aclass_007babsolute_002dpathname_007d-3768"></a></var><br>
<blockquote><p>Concrete type of absolute pathnames; it is derived from
<code>&lt;absolute-pathname&gt;</code> exported by <code>(nausicaa pathnames
abstract)</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Class: <b>&lt;relative-pathname&gt;</b><var><a name="index-g_t_0040aclass_007brelative_002dpathname_007d-3769"></a></var><br>
<blockquote><p>Concrete type of relative pathnames; it is derived from
<code>&lt;relative-pathname&gt;</code> exported by <code>(nausicaa pathnames
abstract)</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Common constructor on &lt;absolute-pathname&gt;: <b>constructor</b><var> obj<a name="index-constructor-on-_0040aclass_007babsolute_002dpathname_007d-3770"></a></var><br>
&mdash; Common constructor on &lt;relative-pathname&gt;: <b>constructor</b><var> obj<a name="index-constructor-on-_0040aclass_007brelative_002dpathname_007d-3771"></a></var><br>
<blockquote><p>Build a new pathname record from <var>obj</var>, which must be a string or
bytevector representing the pathname.  Class's fields are initialised
with newly built values.

        <p>An attempt to instantiate <code>&lt;absolute-pathname&gt;</code> from an <var>obj</var>
representing a relative pathname or to instantiate
<code>&lt;relative-pathname&gt;</code> from an <var>obj</var> representing an absolute
pathname results in an assertion violation.

        <p>If <var>obj</var> is empty an exception is raised using
<code>raise-parser-error</code> from <code>(nausicaa pathnames conditions)</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Maker: <b>make</b><var> &lt;absolute-pathname&gt; . ?clauses<a name="index-make-3772"></a></var><br>
&mdash; Maker: <b>make</b><var> &lt;relative-pathname&gt; . ?clauses<a name="index-make-3773"></a></var><br>
&mdash; Clause: <b>string:</b><var> ?str<a name="index-string_003a-3774"></a></var><br>
&mdash; Clause: <b>bytevector:</b><var> ?bv<a name="index-bytevector_003a-3775"></a></var><br>
&mdash; Clause: <b>segments:</b><var> ?segs<a name="index-segments_003a-3776"></a></var><br>
<blockquote><p>Build and return a new concrete pathname record.  These makers allow the
direct specification of the segments, already validated and normalised.

        <p>The clauses <code>string:</code>, <code>bytevector:</code> and
<code>segments:</code> are mutually exclusive.

        <p>When the <code>string:</code> or <code>bytevector:</code> clause is present:
this maker reverts to the use of the common constructor.

        <p>When the <code>segments:</code> clause is present: <var>?segs</var> must be a
list of bytevectors, already validated and normalised, representing the
pathname; the list is <strong>not</strong> validated.

        <p>We must use with care the <code>segments:</code> clause, because no
validation is performed on its argument; on the other hand, it is often
needed to create a new pathname record by decomposing and recomposing
other pathnames and in this case the list of validated and normalised
segments is already available. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>pathname</b><var> obj<a name="index-pathname-3777"></a></var><br>
<blockquote><p>Build and return a new concrete pathname record from <var>obj</var>, which
must be a string or bytevector representing the pathname.  Everything
works as documented for the class constructors.  In general, we can
think of the returned value as an instance of <code>&lt;pathname&gt;</code>. 
</p></blockquote></div>

<!-- page -->
   </body></html>

