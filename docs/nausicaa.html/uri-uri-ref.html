<html lang="en">
<head>
<title>uri uri ref - Nausicaa for Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Nausicaa for Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="uri-uri.html#uri-uri" title="uri uri">
<link rel="prev" href="uri-uri-uri.html#uri-uri-uri" title="uri uri uri">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d7 of Nausicaa, a
collection of libraries for Vicare Scheme implementing the language
`(nausicaa)' on top of `(vicare)'.

Copyright (C) 2012, 2013 by Marco Maggi <marco.maggi-ipsu@poste.it>

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with Invariant Sections being ``GNU Free Documentation
     License'' and ``GNU General Public License'', no Front--Cover
     Texts, and no Back--Cover Texts.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License''.
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="uri-uri-ref"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="uri-uri-uri.html#uri-uri-uri">uri uri uri</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="uri-uri.html#uri-uri">uri uri</a>
<hr>
</div>

<h4 class="subsection">11.2.9 Relative references objects</h4>

<p>The following bindings are exported by the <code>(nausicaa uri uri)</code>
library.

<div class="defun">
&mdash; Class: <b>&lt;relative-ref&gt;</b><var><a name="index-g_t_0040aclass_007brelative_002dref_007d-1689"></a></var><br>
<blockquote><p>Represents a <code>relative-ref</code> component. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Constructors, makers, predicates</h5>

<div class="defun">
&mdash; Common constructor on &lt;relative-ref&gt;: <b>constructor</b><var> userinfo host port path query fragment<a name="index-constructor-on-_0040aclass_007brelative_002dref_007d-1690"></a></var><br>
<blockquote><p>Build and return a new <code>&lt;relative-ref&gt;</code> instance.  Arguments description
follows:

          <dl>
<dt><var>userinfo</var><dd>An instance of <code>&lt;userinfo&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.

          <br><dt><var>host</var><dd>An instance of <code>&lt;host&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.  Notice that the <code>authority</code> component is
specified only if the <code>host</code> component is specified, too; an empty
but defined <code>host</code> component is possible as empty but defined
<code>reg-name</code> component.

          <br><dt><var>port</var><dd>An instance of <code>&lt;port-number&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.

          <br><dt><var>path</var><dd>An instance of <code>&lt;path&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.

          <br><dt><var>query</var><dd>An instance of <code>&lt;query&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.

          <br><dt><var>fragment</var><dd>An instance of <code>&lt;fragment&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>. 
</dl>

        <p>It is an assertion violation if the <code>userinfo</code> component or the
<code>port</code> component are specified when the <code>host</code> component is
not. 
</p></blockquote></div>

<div class="defun">
&mdash; Maker: <b>&lt;relative-ref&gt;</b> (<var>?clause <small class="dots">...</small></var>)<var><a name="index-g_t_0040aclass_007brelative_002dref_007d-1691"></a></var><br>
&mdash; Maker Clause: <b>userinfo</b><var> ?userinfo<a name="index-userinfo-1692"></a></var><br>
&mdash; Maker Clause: <b>host</b><var> ?host<a name="index-host-1693"></a></var><br>
&mdash; Maker Clause: <b>port-number</b><var> ?port-number<a name="index-port_002dnumber-1694"></a></var><br>
&mdash; Maker Clause: <b>path</b><var> ?path<a name="index-path-1695"></a></var><br>
&mdash; Maker Clause: <b>query</b><var> ?query<a name="index-query-1696"></a></var><br>
&mdash; Maker Clause: <b>fragment</b><var> ?fragment<a name="index-fragment-1697"></a></var><br>
<blockquote><p>Build and return a new <code>&lt;relative-ref&gt;</code> instance using the common
constructor.  When a clause is not used: the corresponding constructor
argument is set to <code>undefined</code> from <code>(nausicaa)</code>.

          <dl>
<dt><var>?userinfo</var><dd>An instance of <code>&lt;userinfo&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.  When not used it defaults to <code>unspecified</code>.

          <br><dt><var>?host</var><dd>An instance of <code>&lt;host&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.  When not used it defaults to <code>unspecified</code>.

          <br><dt><var>?port-number</var><dd>An instance of <code>&lt;port-number&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.  When not used it defaults to <code>unspecified</code>.

          <br><dt><var>?path</var><dd>An instance of <code>&lt;path&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.  When not used it defaults to an instance of
<code>&lt;path-empty&gt;</code>.

          <br><dt><var>?query</var><dd>An instance of <code>&lt;query&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.  When not used it defaults to <code>unspecified</code>.

          <br><dt><var>?fragment</var><dd>An instance of <code>&lt;fragment&gt;</code> or the value <code>unspecified</code> from
<code>(nausicaa)</code>.  When not used it defaults to <code>unspecified</code>. 
</dl>
        </p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Fields</h5>

<div class="defun">
&mdash; Immutable field of &lt;relative-ref&gt;: &lt;path&gt; <b>path</b><var><a name="index-path-1698"></a></var><br>
<blockquote><p>An object representing the <code>path</code> component. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Flag virtual fields</h5>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;boolean&gt; <b>has-authority?</b><var><a name="index-has_002dauthority_003f-1699"></a></var><br>
<blockquote><p><code>#t</code> if the <code>authority</code> component is defined. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;boolean&gt; <b>has-userinfo?</b><var><a name="index-has_002duserinfo_003f-1700"></a></var><br>
<blockquote><p><code>#t</code> if the <code>userinfo</code> component is defined. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;boolean&gt; <b>has-host?</b><var><a name="index-has_002dhost_003f-1701"></a></var><br>
<blockquote><p><code>#t</code> if the <code>host</code> component is defined. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;boolean&gt; <b>has-port?</b><var><a name="index-has_002dport_003f-1702"></a></var><br>
<blockquote><p><code>#t</code> if the <code>port</code> component is defined. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;boolean&gt; <b>has-query?</b><var><a name="index-has_002dquery_003f-1703"></a></var><br>
<blockquote><p><code>#t</code> if the <code>query</code> component is defined. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;boolean&gt; <b>has-fragment?</b><var><a name="index-has_002dfragment_003f-1704"></a></var><br>
<blockquote><p><code>#t</code> if the <code>fragment</code> component is defined. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Components virtual fields</h5>

<div class="defun">
&mdash; Immutable virtual field of &lt;uri&gt;: &lt;ascii-bytevector&gt; <b>relative-part</b><var><a name="index-relative_002dpart-1705"></a></var><br>
<blockquote><p>The <code>relative-part</code> component as a bytevector.  Accessing this
field when the <code>authority</code> is unspecified causes an exception to be
raised. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;ascii-bytevector&gt; <b>authority</b><var><a name="index-authority-1706"></a></var><br>
<blockquote><p>The <code>authority</code> component as a bytevector.  Accessing this field
when the <code>authority</code> is unspecified causes an exception to be
raised. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;userinfo&gt; <b>userinfo</b><var><a name="index-userinfo-1707"></a></var><br>
<blockquote><p>The <code>userinfo</code> component.  Accessing this field when the
<code>userinfo</code> is unspecified causes an exception to be raised. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;host&gt; <b>host</b><var><a name="index-host-1708"></a></var><br>
<blockquote><p>The <code>host</code> component.  Accessing this field when the <code>host</code> is
unspecified causes an exception to be raised. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;port-number&gt; <b>port</b><var><a name="index-port-1709"></a></var><br>
<blockquote><p>The <code>port</code> component.  Accessing this field when the <code>port</code> is
unspecified causes an exception to be raised. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;query&gt; <b>query</b><var><a name="index-query-1710"></a></var><br>
<blockquote><p>The <code>query</code> component.  Accessing this field when the <code>query</code>
is unspecified causes an exception to be raised. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;fragment&gt; <b>fragment</b><var><a name="index-fragment-1711"></a></var><br>
<blockquote><p>The <code>fragment</code> component.  Accessing this field when the
<code>fragment</code> is unspecified causes an exception to be raised. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Serialised representations virtual fields</h5>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;ascii-bytevector&gt; <b>bytevector</b><var><a name="index-bytevector-1712"></a></var><br>
<blockquote><p>A bytevector representing the whole <acronym>URI</acronym>. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable virtual field of &lt;relative-ref&gt;: &lt;ascii-string&gt; <b>string</b><var><a name="index-string-1713"></a></var><br>
<blockquote><p>A string representing the whole <acronym>URI</acronym>; it is built from the
<code>bytevector</code> field with the <code>to-string</code> function. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Methods</h5>

<div class="defun">
&mdash; Method on &lt;relative-ref&gt;: <b>put-bytevector</b> (<var>port &lt;binary-output-port&gt;</var>)<var><a name="index-put_002dbytevector-on-_0040aclass_007brelative_002dref_007d-1714"></a></var><br>
<blockquote><p>Write to <var>port</var> a bytevector representing the <code>relative-ref</code> component
in the format requested by <acronym>RFC</acronym> 3986. 
</p></blockquote></div>

<div class="defun">
&mdash; Method on &lt;relative-ref&gt;: <b>put-authority-bytevector</b> (<var>port &lt;binary-output-port&gt;</var>)<var><a name="index-put_002dauthority_002dbytevector-on-_0040aclass_007brelative_002dref_007d-1715"></a></var><br>
<blockquote><p>Write to <var>port</var> a bytevector representing the <code>authority</code>
component in the format requested by <acronym>RFC</acronym> 3986. 
</p></blockquote></div>

<div class="defun">
&mdash; Method on &lt;uri&gt;: <b>put-relative-part-bytevector</b> (<var>port &lt;binary-output-port&gt;</var>)<var><a name="index-put_002drelative_002dpart_002dbytevector-on-_0040aclass_007buri_007d-1716"></a></var><br>
<blockquote><p>Write to <var>port</var> a bytevector representing the <code>relative-part</code>
component in the format requested by <acronym>RFC</acronym> 3986; notice that the
<code>relative-part</code> can be empty.  If the <code>relative-part</code>
component is unspecified: nothing is put in the port.  If the
<code>relative-part</code> component is empty: only the leading &lsquo;<samp><span class="samp">//</span></samp>&rsquo; is
put in the port. 
</p></blockquote></div>

<!-- end of file -->
   </body></html>

