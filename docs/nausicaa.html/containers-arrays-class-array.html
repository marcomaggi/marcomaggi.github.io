<html lang="en">
<head>
<title>containers arrays class array - Nausicaa for Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Nausicaa for Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="containers-arrays-class.html#containers-arrays-class" title="containers arrays class">
<link rel="prev" href="containers-arrays-class-shape.html#containers-arrays-class-shape" title="containers arrays class shape">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d6 of Nausicaa, a
collection of libraries for Vicare Scheme implementing the language
`(nausicaa)' on top of `(vicare)'.

Copyright (C) 2012, 2013 by Marco Maggi <marco.maggi-ipsu@poste.it>

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with Invariant Sections being ``GNU Free Documentation
     License'' and ``GNU General Public License'', no Front--Cover
     Texts, and no Back--Cover Texts.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License''.
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="containers-arrays-class-array"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="containers-arrays-class-shape.html#containers-arrays-class-shape">containers arrays class shape</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="containers-arrays-class.html#containers-arrays-class">containers arrays class</a>
<hr>
</div>

<h5 class="subsubsection">10.4.4.3 Dealing with arrays</h5>

<p>Instances of class <code>&lt;array&gt;</code> represent an array: a collection of
values that can be accessed by specifying a multidimensional position. 
The elements of an <code>&lt;array&gt;</code> are stored in a vector in row major
order.

<!--  -->
<h5 class="subsubheading">Type, constructor, predicate</h5>

<div class="defun">
&mdash; Class: <b>array</b><var><a name="index-array-1238"></a></var><br>
<blockquote><p>Describes an array and holds its storage; it is derived by <code>&lt;shape&gt;</code>
</p></blockquote></div>

<div class="defun">
&mdash; Syntax on &lt;array&gt;: <b>make</b><var> shape fill-value<a name="index-make-on-_0040aclass_007barray_007d-1239"></a></var><br>
&mdash; Syntax on &lt;array&gt;: <b>make*</b><var> shape fill-value<a name="index-make_002a-on-_0040aclass_007barray_007d-1240"></a></var><br>
<blockquote><p>Build and return a new <code>&lt;array&gt;</code> described by <var>shape</var>. 
<var>fill-value</var> is used as initialisation value for all the slots of
the array; it defaults to <code>#f</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Method on &lt;array&gt;: <b>copy</b><var><a name="index-copy-on-_0040aclass_007barray_007d-1241"></a></var><br>
<blockquote><p>Build and return a deep clone of the instance: all the fields are
duplicated by constructing new vectors. 
</p></blockquote></div>

<div class="defun">
&mdash; Method on &lt;array&gt;: <b>view</b><var> mapper<a name="index-view-on-_0040aclass_007barray_007d-1242"></a></var><br>
<blockquote><p>Build and return a new <code>&lt;array&gt;</code> instance sharing all the data with
this instance and using the closure <var>mapper</var> to map position
coordinates.

        <p><var>mapper</var> must take a position value as argument and return a
position value.  There is no constraint on what <var>mapper</var> can do on
the position.  <var>mapper</var> is composed with whatever mapper function
<var>array</var> already uses. 
</p></blockquote></div>

<div class="defun">
&mdash; Syntax on &lt;array&gt;: <b>is-a?</b><var> obj &lt;array&gt;<a name="index-is_002da_003f-on-_0040aclass_007barray_007d-1243"></a></var><br>
<blockquote><p>Return <code>#t</code> if <var>obj</var> is an <code>&lt;array&gt;</code> instance. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Accessors</h5>

<div class="defun">
&mdash; Method on &lt;array&gt;: <b>set!</b><var> position element<a name="index-set_0021-on-_0040aclass_007barray_007d-1244"></a></var><br>
<blockquote><p>Store <var>element</var> at <var>position</var> in the instance, overwriting the
old value. 
</p></blockquote></div>

<div class="defun">
&mdash; Method on &lt;array&gt;: <b>ref</b><var> position<a name="index-ref-on-_0040aclass_007barray_007d-1245"></a></var><br>
<blockquote><p>Return the element at <var>position</var> in the instance. 
</p></blockquote></div>

<div class="defun">
&mdash; Syntax on &lt;array&gt;: <b>setf</b> (<var>obj index <small class="dots">...</small></var>)<var> element<a name="index-setf-on-_0040aclass_007barray_007d-1246"></a></var><br>
<blockquote><p>Store <var>element</var> at the position identified by the <var>index</var>
arguments in the instance, overwriting the old value. 
</p></blockquote></div>

<div class="defun">
&mdash; Syntax on &lt;array&gt;: <b>getf</b> (<var>obj index <small class="dots">...</small></var>)<var><a name="index-getf-on-_0040aclass_007barray_007d-1247"></a></var><br>
<blockquote><p>Return the element at the position identified by the <var>index</var>
arguments in the instance. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Class fields</h5>

<div class="defun">
&mdash; Immutable Field of &lt;array&gt;: <b>dimensions</b><var> &lt;xvector&gt;<a name="index-dimensions-1248"></a></var><br>
<blockquote><p>A vector holding the lengths of the dimensions. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable Field of &lt;array&gt;: <b>factors</b><var> &lt;xvector&gt;<a name="index-factors-1249"></a></var><br>
<blockquote><p>A vector holding the factors used to compute the absolute index in the
underlying vector. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable Field of &lt;array&gt;: <b>mapper</b><var><a name="index-mapper-1250"></a></var><br>
<blockquote><p>A mapper function for coordinates. 
</p></blockquote></div>

<div class="defun">
&mdash; Immutable Field of &lt;array&gt;: <var>vector</var><var> &lt;xvector&gt;<a name="index-g_t_0040var_007bvector_007d-1251"></a></var><br>
<blockquote><p>The underlying vector. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Miscellaneous methods</h5>

<div class="defun">
&mdash; Method on &lt;array&gt;: <b>=</b><var> pred= array ...<a name="index-g_t_003d-on-_0040aclass_007barray_007d-1252"></a></var><br>
<blockquote><p>Return <code>#t</code> if the instance and the arguments have equal number of
dimensions and hold the same elements according to <var>pred=</var>.  The
predicate function <var>pred=</var> should behave like <code>eqv?</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Method on &lt;array&gt;: <b>string</b><var><a name="index-string-on-_0040aclass_007barray_007d-1253"></a></var><br>
<blockquote><p>Return a string representation of the instance. 
</p></blockquote></div>

<!--  -->
<h5 class="subsubheading">Port output</h5>

<div class="defun">
&mdash; Method on &lt;array&gt;: <b>display</b><var><a name="index-display-on-_0040aclass_007barray_007d-1254"></a></var><br>
&mdash; Method on &lt;array&gt;: <b>display</b><var> port<a name="index-display-on-_0040aclass_007barray_007d-1255"></a></var><br>
<blockquote><p>Write to <var>port</var> a human readable string representation of the
instance.  <var>port</var> defaults to the current output port. 
</p></blockquote></div>

<div class="defun">
&mdash; Method on &lt;array&gt;: <b>write</b><var><a name="index-write-on-_0040aclass_007barray_007d-1256"></a></var><br>
&mdash; Method on &lt;array&gt;: <b>write</b><var> port<a name="index-write-on-_0040aclass_007barray_007d-1257"></a></var><br>
<blockquote><p>Write to <var>port</var> a string representation of the instance such that it
can be read back with <code>read</code>.  <var>port</var> defaults to the current
output port. 
</p></blockquote></div>

<!-- end of file -->
   </body></html>

