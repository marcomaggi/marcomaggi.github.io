<html lang="en">
<head>
<title>containers arrays proc array - Nausicaa for Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Nausicaa for Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="containers-arrays-proc.html#containers-arrays-proc" title="containers arrays proc">
<link rel="prev" href="containers-arrays-proc-shape.html#containers-arrays-proc-shape" title="containers arrays proc shape">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d6 of Nausicaa, a
collection of libraries for Vicare Scheme implementing the language
`(nausicaa)' on top of `(vicare)'.

Copyright (C) 2012, 2013 by Marco Maggi <marco.maggi-ipsu@poste.it>

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with Invariant Sections being ``GNU Free Documentation
     License'' and ``GNU General Public License'', no Front--Cover
     Texts, and no Back--Cover Texts.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License''.
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="containers-arrays-proc-array"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="containers-arrays-proc-shape.html#containers-arrays-proc-shape">containers arrays proc shape</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="containers-arrays-proc.html#containers-arrays-proc">containers arrays proc</a>
<hr>
</div>

<h5 class="subsubsection">10.4.3.3 Dealing with arrays</h5>

<p>Values of type <code>array</code> represent an array, a collection of values
that can be accessed by specifying a multidimensional position.  The
elements of an <code>array</code> are stored in a vector in row major order.

   <p>The <code>array</code> values are disjoint from all the other values, but the
<code>shape</code>; an <code>array</code> value represents itself its own
<code>shape</code>.  All the functions that can be applied to a <code>shape</code>,
can also be applied to an <code>array</code>.

<h5 class="subsubheading">Constructors</h5>

<div class="defun">
&mdash; Function: <b>make-array</b><var> shape<a name="index-make_002darray-1191"></a></var><br>
&mdash; Function: <b>make-array</b><var> shape fill-value<a name="index-make_002darray-1192"></a></var><br>
<blockquote><p>Build and return a new <code>array</code> described by <var>shape</var>. 
<var>fill-value</var> is used as initialisation value for all the slots of
the array; it defaults to <code>#f</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>array</b><var> shape element ...<a name="index-array-1193"></a></var><br>
<blockquote><p>Build and return a new <code>array</code> described by <var>shape</var>.  The
elements are stored in the slots of the underlying vector, in the given
order; there must be enough elements to fill the vector. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>array-copy</b><var> array<a name="index-array_002dcopy-1194"></a></var><br>
<blockquote><p>Build and return a deep clone of <var>array</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>array-view</b><var> array mapper<a name="index-array_002dview-1195"></a></var><br>
<blockquote><p>Build and return a new <code>array</code> value sharing all the data with
<var>array</var> and using the closure <var>mapper</var> to map position
coordinates.

        <p><var>mapper</var> must take a position value as argument and return a
position value.  There is no constraint on what <var>mapper</var> can do on
the position.  <var>mapper</var> is composed with whatever mapper function
<var>array</var> already uses. 
</p></blockquote></div>

<h5 class="subsubheading">Predicates and assertions</h5>

<div class="defun">
&mdash; Function: <b>array?</b><var> obj<a name="index-array_003f-1196"></a></var><br>
<blockquote><p>Return <code>#t</code> if <var>obj</var> is an <code>array</code> value. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>assert-array</b><var> obj func-name<a name="index-assert_002darray-1197"></a></var><br>
&mdash; Function: <b>assert-array/or-false</b><var> obj func-name<a name="index-assert_002darray_002for_002dfalse-1198"></a></var><br>
<blockquote><p>Raise an assertion violation exception if <var>obj</var> is not an
<code>array</code> value, or <code>#f</code>.  <var>func-name</var> is used <code>who</code>
argument for the exception.  Return <code>#t</code> if no exception is raised. 
</p></blockquote></div>

<h5 class="subsubheading">Accessors</h5>

<div class="defun">
&mdash; Function: <b>array-set!</b><var> array position element<a name="index-array_002dset_0021-1199"></a></var><br>
<blockquote><p>Store <var>element</var> at <var>position</var> in <var>array</var>, overwriting the
old value. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>array-ref</b><var> array position<a name="index-array_002dref-1200"></a></var><br>
<blockquote><p>Return the element at <var>position</var> in <var>array</var>. 
</p></blockquote></div>

<h5 class="subsubheading">Comparison</h5>

<div class="defun">
&mdash; Function: <b>array=?</b><var> pred= array0 array ...<a name="index-array_003d_003f-1201"></a></var><br>
<blockquote><p>Return <code>#t</code> if the arguments have equal number of dimensions and hold
the same elements according to <var>pred=</var>.  The predicate function
<var>pred=</var> should behave like <code>eqv?</code>. 
</p></blockquote></div>

<h5 class="subsubheading">Conversion</h5>

<div class="defun">
&mdash; Function: <b>array-&gt;string</b><var> array<a name="index-array_002d_003estring-1202"></a></var><br>
<blockquote><p>Return a string representation of <var>array</var>. 
</p></blockquote></div>

<h5 class="subsubheading">Port output</h5>

<div class="defun">
&mdash; Function: <b>array-display</b><var> array<a name="index-array_002ddisplay-1203"></a></var><br>
&mdash; Function: <b>array-display</b><var> array port<a name="index-array_002ddisplay-1204"></a></var><br>
<blockquote><p>Write to <var>port</var> a human readable string representation of
<var>array</var>.  <var>port</var> defaults to the current output port. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>array-write</b><var> array<a name="index-array_002dwrite-1205"></a></var><br>
&mdash; Function: <b>array-write</b><var> array port<a name="index-array_002dwrite-1206"></a></var><br>
<blockquote><p>Write to <var>port</var> a string representation of <var>array</var> such that it
can be read back with <code>read</code>.  <var>port</var> defaults to the current
output port. 
</p></blockquote></div>

<!-- page -->
   </body></html>

