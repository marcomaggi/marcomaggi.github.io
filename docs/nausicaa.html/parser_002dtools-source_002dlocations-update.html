<html lang="en">
<head>
<title>parser-tools source-locations update - Nausicaa for Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Nausicaa for Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="parser_002dtools-source_002dlocations.html#parser_002dtools-source_002dlocations" title="parser-tools source-locations">
<link rel="prev" href="parser_002dtools-source_002dlocations-comparison.html#parser_002dtools-source_002dlocations-comparison" title="parser-tools source-locations comparison">
<link rel="next" href="parser_002dtools-source_002dlocations-unspecified.html#parser_002dtools-source_002dlocations-unspecified" title="parser-tools source-locations unspecified">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d7 of Nausicaa, a
collection of libraries for Vicare Scheme implementing the language
`(nausicaa)' on top of `(vicare)'.

Copyright (C) 2012, 2013 by Marco Maggi <marco.maggi-ipsu@poste.it>

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with Invariant Sections being ``GNU Free Documentation
     License'' and ``GNU General Public License'', no Front--Cover
     Texts, and no Back--Cover Texts.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License''.
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="parser-tools-source-locations-update"></a>
<a name="parser_002dtools-source_002dlocations-update"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="parser_002dtools-source_002dlocations-unspecified.html#parser_002dtools-source_002dlocations-unspecified">parser-tools source-locations unspecified</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="parser_002dtools-source_002dlocations-comparison.html#parser_002dtools-source_002dlocations-comparison">parser-tools source-locations comparison</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="parser_002dtools-source_002dlocations.html#parser_002dtools-source_002dlocations">parser-tools source-locations</a>
<hr>
</div>

<h4 class="subsection">12.1.3 Updating the location</h4>

<div class="defun">
&mdash; Method on &lt;source-location&gt;: &lt;source-location&gt; <b>update</b> (<var>fx &lt;nonnegative-fixnum&gt;</var>)<var><a name="index-update-on-_0040aclass_007bsource_002dlocation_007d-1852"></a></var><br>
&mdash; Method on &lt;source-location&gt;: &lt;source-location&gt; <b>update</b> (<var>ch &lt;char&gt;</var>)<var><a name="index-update-on-_0040aclass_007bsource_002dlocation_007d-1853"></a></var><br>
<blockquote><p>If the instance object is unspecified: return a <code>&lt;source-location&gt;</code>
object in unspecified state; otherwise build and return a new
<code>&lt;source-location&gt;</code> object representing a location past the one of
the instance according to the given arguments.

        <p>If the argument is <var>fx</var>: it is interpreted as token length; the
column and offset counters are incremented by that amount.

        <p>If the argument if <var>ch</var>, the action depends on its specific value;
if it is:

          <dl>
<dt>&lsquo;<samp><span class="samp">#\return</span></samp>&rsquo;<dd>The action depends upon the value of the parameter
&lsquo;<samp><span class="samp">source-location-honor-return</span></samp>&rsquo;:

               <ul>
<li>If it is true: the column counter is set to 1 and the offset
counter is incremented by 1.

               <li>If it is <code>#f</code>: the column and offset counters are incremented by
1. 
</ul>

          <br><dt>&lsquo;<samp><span class="samp">#\newline</span></samp>&rsquo;<dd>The line counter is incremented by 1, the column counter is set
to 1 and the offset counter is incremented by 1.

          <br><dt>&lsquo;<samp><span class="samp">#\tab</span></samp>&rsquo;<dd>The offset counter is incremented by 1 and the column counter is
set to the result of:

          <pre class="example">               (let (((L &lt;source-location&gt;) ---))
                 ((source-location-tab-function) (L column)))
</pre>
          <p class="noindent">that is, the current procedure in the parameter
<code>source-location-tab-function</code> is applied to the column counter to
produce the next column counter's value. 
</dl>
        </p></blockquote></div>

<div class="defun">
&mdash; Parameter: <b>source-location-tab-function</b><var><a name="index-source_002dlocation_002dtab_002dfunction-1854"></a></var><br>
<blockquote><p>Hold a function used to produce the next column counter's value given
the current column counter.  By default it is set to
<code>source-location-tab-function/8chars</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>source-location-tab-function/8chars</b><var> column<a name="index-source_002dlocation_002dtab_002dfunction_002f8chars-1855"></a></var><br>
<blockquote><p>Return the smallest multiple of 8 which is greater than
<var>column</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <b>source-location-tab-function/tab-table</b><var> column<a name="index-source_002dlocation_002dtab_002dfunction_002ftab_002dtable-1856"></a></var><br>
<blockquote><p>Produce the next column counter's value drawing it from the list of
horizontal tabulation offsets in the &lsquo;<samp><span class="samp">source-location-tab-table</span></samp>&rsquo;
parameter.  The returned value is the smallest offset which is greater
than <var>column</var>.  If the list is null or all the offsets are smaller
than <var>column</var>, <code>source-location-tab-function/8chars</code> is used to
compute the return value. 
</p></blockquote></div>

<div class="defun">
&mdash; Parameter: <b>source-location-tab-table</b><var><a name="index-source_002dlocation_002dtab_002dtable-1857"></a></var><br>
<blockquote><p>Hold a list of horizontal tabulation offsets, sorted in increasing
order.  The default value is null. 
</p></blockquote></div>

<div class="defun">
&mdash; Parameter: <b>source-location-honor-return</b><var><a name="index-source_002dlocation_002dhonor_002dreturn-1858"></a></var><br>
<blockquote><p>Hold a boolean value which causes the <code>update</code> method to honor a
&lsquo;<samp><span class="samp">#\return</span></samp>&rsquo; character or not. 
</p></blockquote></div>

<!-- page -->
   </body></html>

