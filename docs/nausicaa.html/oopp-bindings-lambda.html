<html lang="en">
<head>
<title>oopp bindings lambda - Nausicaa for Vicare Scheme</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Nausicaa for Vicare Scheme">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="oopp-bindings.html#oopp-bindings" title="oopp bindings">
<link rel="prev" href="oopp-bindings-begin.html#oopp-bindings-begin" title="oopp bindings begin">
<link rel="next" href="oopp-bindings-define.html#oopp-bindings-define" title="oopp bindings define">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This document describes version 0.3d6 of Nausicaa, a
collection of libraries for Vicare Scheme implementing the language
`(nausicaa)' on top of `(vicare)'.

Copyright (C) 2012, 2013 by Marco Maggi <marco.maggi-ipsu@poste.it>

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with Invariant Sections being ``GNU Free Documentation
     License'' and ``GNU General Public License'', no Front--Cover
     Texts, and no Back--Cover Texts.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License''.
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="oopp-bindings-lambda"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="oopp-bindings-define.html#oopp-bindings-define">oopp bindings define</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="oopp-bindings-begin.html#oopp-bindings-begin">oopp bindings begin</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="oopp-bindings.html#oopp-bindings">oopp bindings</a>
<hr>
</div>

<h4 class="subsection">3.19.4 <acronym>OOPP</acronym> bindings: <code>lambda</code>&ndash;like syntaxes</h4>

<div class="defun">
&mdash; Syntax: <b>lambda/tags</b><var> ?tagged-formals ?body0 ?body <small class="dots">...</small><a name="index-lambda_002ftags-82"></a></var><br>
&mdash; Syntax: <b>lambda/tags</b><var> ?tagged-formals </var>(<var>&lt;- ?tag ...</var>)<var> ?body0 ?body <small class="dots">...</small><a name="index-lambda_002ftags-83"></a></var><br>
&mdash; Auxiliary Syntax: <b>&lt;-</b><var><a name="index-g_t_003c_002d-84"></a></var><br>
<blockquote><p>Like <code>lambda</code> and defines the <acronym>OOPP</acronym> bindings for the arguments. 
When all the bindings have no tags: this syntax is equivalent to
<code>lambda</code> as defined by <acronym>R6RS</acronym>; an untagged binding is equivalent
to a binding tagged with <code>&lt;top&gt;</code>.

        <p>If procedure arguments validation, as defined by <code>(vicare
arguments validation)</code>, is enabled:

          <ul>
<li>The function will validate its tagged arguments using the tag predicates
and raise a <code>&amp;procedure-argument-violation</code> exception in case
of failure.

          <li>If the first element of <var>?tagged-formals</var> has the format:

          <pre class="example">               (_ <var>?tag0</var> <var>?tag</var> ...)
</pre>
          <p class="noindent">where <code>_</code> is exactly the symbol <code>_</code>: the <var>?body</var> forms
will be enclosed in a <code>begin/tags</code> syntax, and the returned values
validated as specified by the <var>?tag</var> identifiers.

          <li>If the auxiliary <code>&lt;-</code> clause is present: the <var>?body</var> forms will
be enclosed in a <code>begin/tags</code> syntax, and the returned values
validated as specified by the <var>?tag</var> identifiers. 
</ul>

        <p>Usage examples:

          <ul>
<li>Function with two tagged arguments:

          <pre class="example">               #!r6rs
               (import (rnrs)
                 (nausicaa language oopp))
               
               (define f
                 (lambda/tags ((a &lt;number&gt;) (b &lt;number&gt;))
                   (list (a string) (b string))))
               
               (f 1 2)                 &rArr; ("1" "2")
</pre>
          <li>Function with two mandatory arguments and the rest argument:

          <pre class="example">               #!r6rs
               (import (rnrs)
                 (nausicaa language oopp))
               
               (define g
                 (lambda/tags ((a &lt;number&gt;) (b &lt;number&gt;) . #(args &lt;list&gt;))
                   (list (a string)
                         (b string)
                         (args length))))
               
               (g 1 2 3 4 5)           &rArr; ("1" "2" 3)
</pre>
          <p class="noindent">notice that a tagged rest argument must be specified using the vector
syntax <code>#(args &lt;list&gt;)</code>, the list syntax <code>(args &lt;list&gt;)</code> would
be a syntax error.

          <li>Function with only the rest argument:

          <pre class="example">               #!r6rs
               (import (rnrs)
                 (nausicaa language oopp))
               
               (define g
                 (lambda/tags #(args &lt;list&gt;)
                   (args length)))
               
               (g 1 2 3)               &rArr; 3
</pre>
          <li>Functions with a single validated return value:

          <pre class="example">               #!r6rs
               (import (rnrs)
                 (nausicaa language oopp))
               
               (define f
                 (lambda/tags ((_ &lt;fixnum&gt;) val)
                   val))
               
               (define g
                 (lambda/tags (val)
                   (&lt;- &lt;fixnum&gt;)
                   val))
               
               (f 1)                   &rArr; 1
               (g 1)                   &rArr; 1
</pre>
          <li>Functions with multiple validated return values:

          <pre class="example">               #!r6rs
               (import (rnrs)
                 (nausicaa language oopp))
               
               (define f
                 (lambda/tags ((_ &lt;fixnum&gt; &lt;string&gt;) a b)
                   (values a b)))
               
               (define g
                 (lambda/tags (a b)
                   (&lt;- &lt;fixnum&gt; &lt;string&gt;)
                   (values a b)))
               
               (f 1 "2")               &rArr; 1, "2"
               (g 1 "2")               &rArr; 1, "2"
</pre>
          </ul>
        </p></blockquote></div>

<div class="defun">
&mdash; Syntax: <b>case-lambda/tags</b><var> ?cl-clause <small class="dots">...</small><a name="index-case_002dlambda_002ftags-85"></a></var><br>
&mdash; Auxiliary Syntax: <b>&lt;-</b><var><a name="index-g_t_003c_002d-86"></a></var><br>
<blockquote><p>Like <code>case-lambda</code> and defines the <acronym>OOPP</acronym> bindings for the
arguments.  When all the bindings have no tags: this syntax is
equivalent to <code>case-lambda</code> as defined by <acronym>R6RS</acronym>; an untagged
binding is equivalent to a binding tagged with <code>&lt;top&gt;</code>.

        <p>Each <var>?cl-clause</var> must have one of the formats:

     <pre class="example">          (<var>?tagged-formals</var> <var>?body0</var> <var>?body</var> ...)
          (<var>?tagged-formals</var> (&lt;- <var>?tag</var> ...) <var>?body0</var> <var>?body</var> ...)
</pre>
        <p>If procedure arguments validation, as defined by <code>(vicare
arguments validation)</code>, is enabled:

          <ul>
<li>The function will validate its tagged arguments using the tag predicates
and raise a <code>&amp;procedure-argument-violation</code> exception in case
of failure.

          <li>If the first element of <var>?tagged-formals</var> has the format:

          <pre class="example">               (_ <var>?tag0</var> <var>?tag</var> ...)
</pre>
          <p class="noindent">where <code>_</code> is exactly the symbol <code>_</code>: the <var>?body</var> forms
will be enclosed in a <code>begin/tags</code> syntax, and the returned values
validated as specified by the <var>?tag</var> identifiers.

          <li>If the auxiliary <code>&lt;-</code> clause is present: the <var>?body</var> forms will
be enclosed in a <code>begin/tags</code> syntax, and the returned values
validated as specified by the <var>?tag</var> identifiers. 
</ul>

        <p>Usage examples:

     <pre class="example">          #!r6rs
          (import (rnrs)
            (nausicaa language oopp))
          
          (define f
            (case-lambda/tags
             (((a &lt;number&gt;))
              (a string))))
          
          (define g
            (case-lambda/tags
             (#(args &lt;list&gt;)
              (args length))))
          
          (f 123)                 &rArr; "123"
          (g 1 2 3)               &rArr; 3
</pre>
        </blockquote></div>

<!-- page -->
   </body></html>

