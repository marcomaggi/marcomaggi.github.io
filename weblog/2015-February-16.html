<html lang="en">
<head>
<title>2015 February 16 - Marco's Weblog</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Marco's Weblog">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="2015.html#g_t2015" title="2015">
<link rel="prev" href="2015-February-15.html#g_t2015-February-15" title="2015 February 15">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 2015 by Marco Maggi <marco.maggi-ipsu@poste.it>

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with Invariant Sections being ``GNU Free Documentation
     License'' and ``GNU General Public License'', no Front--Cover
     Texts, and no Back--Cover Texts.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License''.
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" type="text/css" href="weblog.css">
</head>
<body>
<div class="node">
<a name="g_t2015-February-16"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="2015-February-15.html#g_t2015-February-15">2015 February 15</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="2015.html#g_t2015">2015</a>
<hr>
</div>

<h3 class="unnumberedsec">Does the Scheme standard still matter?</h3>

<p>In the history of the Scheme language there are documents defining the &ldquo;standard
Scheme&rdquo;: the <a href="ftp://publications.ai.mit.edu/ai-publications/pdf/AIM-349.pdf">report</a>, the <a href="ftp://publications.ai.mit.edu/ai-publications/pdf/AIM-452.pdf">revised report</a>, <a href="http://community.schemewiki.org/?R4RS"><acronym>R4RS</acronym></a>,
<a href="http://www.schemers.org/Documents/Standards/R5RS/"><acronym>R5RS</acronym></a>,
<a href="http://www.r6rs.org/"><acronym>R6RS</acronym></a>, <a href="http://www.r7rs.org/"><acronym>R7RS</acronym></a>. 
<a href="References.html#References">Vicare</a> is an <acronym>R6RS</acronym> implementation.  <acronym>R6RS</acronym> is hated.  Some people say that it
must die.  I guess that: because some People That Matter hate it, other people just
hate it because it is cool to do so; this is pretty normal human behaviour.

<!--  -->
<h4 class="unnumberedsubsec">Philosophy of Scheme</h4>

<p>Usually one refers to this quote, which is included in the
<a href="http://www.r6rs.org/final/html/r6rs/r6rs-Z-H-3.html#node_chap_Temp_3">introduction</a> of the <acronym>R6RS</acronym> document:

   <blockquote>
<em>Programming languages should be designed not by piling feature on top of
feature, but by removing the weaknesses and restrictions that make additional
features appear necessary.</em>
</blockquote>

   <p>How beautiful!  How useful?  As I see it: every general purpose language that tries
to be useful becomes complex and, inevitably, features are piled up.  But this
philosophy has actually succeeded in defining concepts that are both instruments of
thought and instruments of language implementation: closures, continuations, proper
tail&ndash;call optimisation, the dynamic environment.

   <p>Every high&ndash;level construct in every Scheme implementation can be described by a
composition of core language constructs and, indeed, some implementations actually
transform the high&ndash;level language source code into core language forms that are
compiled or interpreted.  Some implementations define a core language that is
actually pretty human&ndash;readable Scheme code.

   <p>Success!  The philosophy is established and acknowledged.  Let's not sweat it
anymore.

   <blockquote>
<strong>NOTE</strong> I have noticed only today that, while adapting the text of the <acronym>R6RS</acronym>
documents for <a href="References.html#References">Vicare</a>'s documentation, I cut out the paragraphs describing the
report philosophy.  I fixed this, they are included now. 
</blockquote>

<!--  -->
<h4 class="unnumberedsubsec">Scheme implementations and <acronym>R6RS</acronym></h4>

<p>There are so many Scheme implementations that I have no will to list them, just get
<a href="http://community.schemewiki.org/?category-implementations">this</a> (which does
<strong>not</strong> list <a href="References.html#References">Vicare</a>, he! he!) and
<a href="http://www.r6rs.org/implementations.html">this</a> and
<a href="http://trac.sacrideo.us/wg/wiki/ImplementationSupport">this</a>.  Of the
implementations supporting <acronym>R6RS</acronym>, listed on the report's site:

     <dl>
<dt><em>Biwascheme</em><dd>It is far from being a full implementation.  There are no hygienic macros.

     <br><dt><em>Chez Scheme</em><dd>It has gone West.

     <br><dt><em>Guile</em><dd>It is not a full implementation; its web page claims to offer only partial support. 
In version 2.0.11 the expander has some incompatibilities (the same problem of
Sagittarius described below and more<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>).

     <br><dt><em>Ikarus</em><dd>It has gone West.  <a href="References.html#References">Vicare</a> is a fork of Ikarus.

     <br><dt><em>IronScheme</em><dd>It is still alive.  I do not know it.  It
<a href="http://ironscheme.codeplex.com/discussions/434821">appears</a> full continuations
are not implemented and will never be.  This is a limitation from my point of view:

          <ul>
<li>Continuations cannot be used to implement coroutines; some actually useful code that
should work on a compliant <acronym>R6RS</acronym> implementation will not work on IronScheme.

          <li>Is the semantics of the standard <code>guard</code> syntax correct with respect to the
dynamic environment?  I do not know the answer. 
</ul>

     <br><dt><em>Larceny</em><dd>There has not been a release in years.  I do not know what this means.

     <br><dt><em>Mosh</em><dd>There has not been a commit to the repository in years.  In my humble opinion: it is
to be considered gone West.

     <br><dt><em>Racket</em><dd>It implements <acronym>R6RS</acronym> through the executable <samp><span class="command">plt-r6rs</span></samp> and (most likely)
some other way of selecting the language.  Racket's people have rightfully gone their
way, defining their own language, for their own purposes.  I think it is fair to
assume we should not rely on Racket's implementation of <acronym>R6RS</acronym>, it is just legacy
code for them.

     <br><dt><em>Sagittarius</em><dd>It is still alive.  The expander has problems, with respect to <acronym>R6RS</acronym>
compliance<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>.

     <br><dt><em>Ypsilon</em><dd>It has gone West. 
</dl>

   <p>Everything is all right: people move on.  Concretely, for <strong>my</strong> purposes, the
only <acronym>R6RS</acronym> implementation is <a href="References.html#References">Vicare</a>.

<!--  -->
<h4 class="unnumberedsubsec">Unanswered questions on the usefulness of <acronym>R7RS</acronym></h4>

<p>Every now and then I ask myself if it would be worth it to support <acronym>R7RS</acronym> under
<a href="References.html#References">Vicare</a>.  One thing I am sure of is that: it would be more work; with the already
long queue of things&ndash;to&ndash;do for <a href="References.html#References">Vicare</a>: I have no will.

   <p>Both <acronym>R5RS</acronym> and <acronym>R7RS</acronym> define &ldquo;small&rdquo; languages; they have differences.  I
wonder what more <acronym>R7RS</acronym> truly has to offer over <acronym>R5RS</acronym>.  When I skimmed over the
<acronym>R7RS</acronym> report: nothing jumped into my eyes.  Sure it has library forms and
<code>cond-expand</code> is integrated in the language; these are very useful to write
portable code.  There is support for exceptions; good.  So what?

   <p>The <acronym>R7RS</acronym> of my dreams is bigger than <acronym>R6RS</acronym> and backwards compatible.  More
syntaxes like <code>receive</code> (as defined by the <acronym>SRFI</acronym>) and
<code>receive-and-return</code> (as defined by <a href="References.html#References">Vicare</a>); more utilities to write
macros, like <code>syntax/loc</code> as defined by Racket; a universal interface for
garbage collector finalisers; an unwind&ndash;protection mechanism that is as reliable as
possible; non&ndash;blocking input/output ports; more standard libraries for coroutines,
containers, networking, foreign&ndash;functions interface, file systems; an <acronym>API</acronym> for
<acronym>POSIX</acronym> services.

   <p>The <acronym>R7RS</acronym> &ldquo;small language&rdquo; looks useless to me; is it only a convenient base on
top of which to implement the future <acronym>R7RS</acronym> &ldquo;big language&rdquo;?  So will I have to
wait until the big language takes shape to build an opinion?

   <p>I am a mediocre programmer; nevertheless, <acronym>R6RS</acronym> allowed me to search, resurrect,
adapt, document and test a fair amount of libraries in <acronym>R6RS</acronym> format.  I treasured
the work of other people.  <acronym>R7RS</acronym> is backwards <strong>in</strong>compatible: this is like
being <a href="https://www.youtube.com/watch?v=_BSoL6Fczyg">hard tackled</a>.

<!--  -->
<h4 class="unnumberedsubsec">Scheme users communities</h4>

<p>They are diverging.  This is how I see it.

     <ul>
<li>Racket has its own world.  And Racket is not Scheme.  Or is it? 
<a href="http://www.racket-lang.org/new-name.html">Whatever <small class="dots">...</small></a> (By the way: what a
complex language!  And they say <acronym>R6RS</acronym> is complex?  Sheesh <small class="dots">...</small>)
(<a href="http://web-japan.org/kidsweb/language/quickjapanese/quickjapanese17.html">Chotto matte kudasai</a>: Racket is not a language, it is a fully featured platform to
design and research programming languages.)

     <li>Bigloo, Chicken, Gambit, Guile.  All of them have their community.

     <li>The <acronym>R7RS</acronym> people form their own community.  For some reason discussions about the
last standard, the implementations and soon&ndash;to&ndash;be&ndash;proposed <acronym>SRFI</acronym> documents (?!?) 
happen on their
<a href="http://lists.scheme-reports.org/cgi-bin/mailman/listinfo/scheme-reports">mailing list</a> rather than on <code>comp.lang.scheme</code>.  Us and them. 
</ul>

   <p>These communities form a non&ndash;community of Scheme users.  Maybe I am not reading in
the right places (or I am not stalking enough people to know what they are actually
doing) but I do not perceive significant interaction.  <code>comp.lang.scheme</code> is
nearly a desert.

<!--  -->
<h4 class="unnumberedsubsec">Is the Scheme standard still important?</h4>

<p>If a standard does not aggregate the work of people, establishing a platform over
which to build new stuff: it is irrelevant.

<!-- page -->
<!--  -->
<!-- Appendices. -->
<!--  -->
   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> The following program must raise an
&ldquo;unbound identifier <code>ciao</code>&rdquo; error according to <acronym>R6RS</acronym>, because the
definition of <code>ciao</code> in the expansion of the <code>doit</code> use must be renamed
to some hidden identifier.  It correctly fails under <a href="References.html#References">Vicare</a>, it just works under
Guile.

<pre class="lisp">     #!r6rs
     (import (rnrs))
     (define-syntax doit
       (syntax-rules ()
         ((_)
          (define (ciao)
            (display 123)
            (newline)
            (flush-output-port (current-output-port))))))
     (doit)
     (ciao)
</pre>
   <p>This breaks hygiene, because it is not possible to create hidden definitions in the
output forms of macros without explicitly using <code>with-syntax</code> and
<code>generate-temporaries</code>.</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> The following program is perfectly valid <acronym>R6RS</acronym> code and it
prints <code>123\n</code> under <a href="References.html#References">Vicare</a>; under Sagittarius it raises an error.

<pre class="lisp">     #!r6rs
     (import (rnrs))
     (define (fun)
       (mac))
     (fun)
     (define-syntax mac
       (syntax-rules ()
         ((_)
          (begin
            (display 123)
            (newline)
            (flush-output-port (current-output-port))))))
</pre>
   <p>Notice that the macro <code>mac</code> is defined <strong>after</strong> its use in the body of
<code>fun</code>; this is no problem according to <acronym>R6RS</acronym> and it allows organising code
without restrictions on the order of definitions.  Very useful and, indeed, I use it
all the time in my code, which does <strong>not</strong> run under Sagittarius.</p>

   <hr></div>

   </body></html>

