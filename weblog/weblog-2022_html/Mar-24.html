<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Mar 24 (Marco&rsquo;s 2022 Weblog)</title>

<meta name="description" content="Mar 24 (Marco&rsquo;s 2022 Weblog)">
<meta name="keywords" content="Mar 24 (Marco&rsquo;s 2022 Weblog)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="index.html" rel="up" title="Top">
<link href="Apr-10.html" rel="prev" title="Apr 10">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="weblog.css">


</head>

<body lang="en">
<div class="unnumbered-level-extent" id="Mar-24">
<div class="nav-panel">
<p>
Previous: <a href="Apr-10.html" accesskey="p" rel="prev">Guida agli <abbr class="acronym">etf</abbr> incastonata nella pagina</a>, Up: <a href="index.html" accesskey="u" rel="up">Marco&rsquo;s 2022 Weblog</a> &nbsp; </p>
</div>
<hr>
<h2 class="unnumbered" id="Finanza-personale_003a-il-magico-mondo-delle-percentuali_002c-parte-1"><span>Finanza personale: il magico mondo delle percentuali, parte 1<a class="copiable-link" href="#Finanza-personale_003a-il-magico-mondo-delle-percentuali_002c-parte-1"> &para;</a></span></h2>


<p><em class="emph">Posted on Mar 24, 2022</em>
</p>

<p>Dato un numero reale <em class="math">C</em> (&ldquo;<em class="math">C</em>&rdquo; come capitale), come se ne calcola il valore percentuale
<em class="math">P</em>?  Per esempio: quanto vale il <em class="math">3%</em> di <em class="math">100,0</em>?  Indicando con <em class="math">R</em> il
risultato, ci si pu&ograve; ricordare dalle scuole inferiori la filastrocca sulle proporzioni:
</p><blockquote class="quotation">
<p><em class="math">R</em> sta a <em class="math">C</em> come <em class="math">P</em> sta a <em class="math">100</em>
</p></blockquote>
<p>in formula, con la notazione delle scuole elementari:
</p><blockquote class="quotation">
<p>R : C = P : 100
</p></blockquote>
<p>mentre con la notazione delle scuole medie inferiori:
</p><blockquote class="quotation">
<p>R / C = P / 100
</p></blockquote>
<p>ricordando un po&rsquo; di geometria: sfruttiamo la teoria della similitudine tra figure geometriche piane
per costruire una rappresentazione geometrica come similitudine tra rettangoli (non in scala):
</p><div class="example">
<pre class="example-preformatted"> --------------            --------------
|              | P        |              | R
 --------------            --------------
      100                         C
</pre></div>
<p>il significato della proporzione &egrave;: il rettangolo delle percentuali con base <em class="math">100</em> e altezza
<em class="math">P</em> &egrave; simile al rettangolo dei numeri reali con base <em class="math">C</em> e altezza <em class="math">R</em> (come sono
figo!).
</p>
<p>Con le posizioni <em class="math">C = 100,0</em> e <em class="math">P = 3</em>, il risultato <em class="math">R</em> vale:
</p>
<div class="example">
<pre class="example-preformatted">C = 100,0
P = 3
R = C * P/100 = 100,0 * 3/100 = 3,0
</pre></div>

<p>E se vogliamo calcolare quanto vale l&rsquo;aumento percentuale <em class="math">P</em> di <em class="math">C</em>?  Il risultato
<em class="math">R</em> vale:
</p>
<div class="example">
<pre class="example-preformatted">C = 100,0
P = 3
R = C * (1 + P/100) = 100,0 * (1 + 3/100)
  = 100,0 * (100/100 + 3/100) = 100,0 * 103/100
  = 103,0
</pre></div>

<p>Nel seguito user&ograve; la notazione del <a class="url" href="https://it.wikipedia.org/wiki/Linguaggio_C">linguaggio di
programmazione C</a> per scrivere le formule matematiche; inoltre user&ograve; un po&rsquo; di notazione del
<a class="url" href="https://it.wikipedia.org/wiki/Latex">linguaggio di marcatura LaTeX</a> per i simboli delle
variabili matematiche, facendola per&ograve; coincidere con la sintassi del linguaggio C.  Un po&rsquo; mi
irrita usare il punto invece della virgola per separare i decimali, ma la vita &egrave; dura.  Mi piace
l&rsquo;idea che le espressioni simboliche si possano copiare e incollare in un programma C per
verificarne la correttezza; in fondo, abbiamo tutti sottomano un
<a class="url" href="https://www.gnu.org/software/gcc/">compilatore C</a>&hellip; nevvero?
</p>
<p>Cercher&ograve; anche, se ne avr&ograve; voglia, di scrivere esplicitamente i passaggi delle elaborazioni
matematiche, perch&eacute; credo siamo in molti a essere arrugginiti nell&rsquo;elaborazione delle espressioni.
</p>
<p>Siccome nessuno legge preliminarmente ci&ograve; che scrivo: spero di non fare errori.  Ognuno si
arrangi.
</p>
<p>Nei seguenti calcoli si parte con un valore <em class="math">C</em> e lo si modifica applicando variazioni
percentuali; i vari numeri sono indicati con <em class="math">C_0</em>, <em class="math">C_1</em>, eccetera, dove <em class="math">C_0</em> si
legge &ldquo;C con zero&rdquo; o semplicemente &ldquo;C zero&rdquo;.
</p>
<p>Con ci&ograve;, posto il valore iniziale <em class="math">C_0 = 100.0</em> e indicando il valore aumentato della
percentuale <em class="math">P</em> come <em class="math">C_1</em>, il calcolo sopra si scrive:
</p><div class="example">
<pre class="example-preformatted">C_0 = 100.0
P   = 3
C_1 = C_0 * (1 + P/100)
    = 100.0 * (1 + 3/100)
    = 100.0 * (100/100 + 3/100)
    = 100.0 * 103/100 = 103.0
</pre></div>

<p>Supponiamo di aumentare il valore iniziale <em class="math">C_0</em> di una percentuale <em class="math">P_1</em> e poi di una
percentuale <em class="math">P_2</em>; risulta:
</p><div class="example">
<pre class="example-preformatted">C_1 = C_0 * (1 + P_1 / 100)
C_2 = C_1 * (1 + P_2 / 100)
    = C_0 * (1 + P_1 / 100) * (1 + P_2 / 100)
</pre></div>
<p>sviluppiamo separatamente il prodotto tra binomi:
</p><div class="example">
<pre class="example-preformatted">(1 + P_1 / 100) * (1 + P_2 / 100) =
  = (1 * (1 + P_2 / 100)) + (P_1 / 100 * (1 + P_2 / 100))
  = (1 + P_2 / 100)       + (P_1 / 100 + P_1 / 100 * P_2 / 100)
  = (1 + P_2 / 100)       + (P_1 / 100 + P_1 * P_2 / 10000)
  = 1 + P_2 / 100 + P_1 / 100 + P_1 * P_2 / 10000
  = 1 + (P_1 + P_2) / 100 + P_1 * P_2 / 10000
</pre></div>
<p>quindi:
</p><div class="example">
<pre class="example-preformatted">C_2 = C_0 * (1 + (P_1 + P_2) / 100 + P_1 * P_2 / 10000)
</pre></div>

<p>In futuro svilupperemo l&rsquo;interessante caso di <em class="math">P_1 == P_2</em>.  Per oggi, invece, esaminiamo
l&rsquo;interessantissimo caso: <em class="math">P_1 &gt; 0</em>, <em class="math">P_2 &lt; 0</em>; cio&egrave;: la prima variazione percentuale
&egrave; un aumento, mentre la seconda &egrave; una diminuzione.
</p>
<p>Introduciamo le seguenti posizioni, pi&uacute; comode:
</p><div class="example">
<pre class="example-preformatted">P &gt; 0
M &gt; 0
P_1 = + P
P_2 = - M
</pre></div>
<p>l&rsquo;espressione di <em class="math">C_2</em> risulta:
</p><div class="example">
<pre class="example-preformatted">C_2 = C_0 * (1 + P/100) * (1 - M/100)
    = C_0 * (1 + (P-M)/100 - P*M/10000)
</pre></div>
<p>si osserva che siccome la moltiplicazione gode della propriet&agrave; commutativa:
</p><div class="example">
<pre class="example-preformatted">(1 + P/100) * (1 - M/100) = (1 - M/100) * (1 + P/100)
</pre></div>
<p>perci&ograve; non importa se prima avviene l&rsquo;aumento e dopo la diminuzione oppure vice versa; il
risultato non cambia.
</p>

<h4 class="subsubheading" id="Variazioni-percentuali-opposte"><span>Variazioni percentuali opposte<a class="copiable-link" href="#Variazioni-percentuali-opposte"> &para;</a></span></h4>


<p>Pu&ograve; venirci in mente la domanda: cosa succede se <em class="math">P == M</em>?  Per esempio, se prima aumentiamo
<em class="math">C_0</em> del <em class="math">3%</em> e poi lo diminuiamo del <em class="math">3%</em>?  Il risultato &egrave;:
</p><div class="example">
<pre class="example-preformatted">P = M
C_2 = C_0 * (1 + (P-M)/100 - P*M/10000)
    = C_0 * (1 - P * P/10000)
</pre></div>
<p>se <em class="math">P &gt; 0</em>:
</p><ul class="itemize mark-bullet">
<li>allora <em class="math">P * P &gt; 0</em>;
</li><li>e allora <em class="math">P * P/10000 &gt; 0</em>;
</li><li>e allora <em class="math">(1 - P * P/10000) &lt; 1</em>;
</li><li>e allora <em class="math">C_2 &lt; C_0</em>;
</li></ul>
<p>e questo &egrave; quanto: due variazioni percentuali opposte <strong class="strong">diminuiscono</strong> il valore iniziale.
</p>

<h4 class="subsubheading" id="Variazioni-percentuali-complessivamente-nulle"><span>Variazioni percentuali complessivamente nulle<a class="copiable-link" href="#Variazioni-percentuali-complessivamente-nulle"> &para;</a></span></h4>


<p>Altra domanda: due variazioni percentuali, una di aumento <em class="math">P</em> e una di diminuzione <em class="math">M</em>,
come devono essere per lasciare <em class="math">C_2 == C_0</em>?  Torniamo all&rsquo;espressione generale:
</p><div class="example">
<pre class="example-preformatted">C_2 = C_0 * (1 + P/100) * (1 - M/100)
    = C_0 * (1 + (P-M)/100 - P*M/10000)
</pre></div>
<p>se poniamo <em class="math">C_2 == C_0</em> possiamo semplificare:
</p><div class="example">
<pre class="example-preformatted">C_0 = C_0 * (1 + (P-M)/100 - P*M/10000)
  1 = 1 * (1 + (P-M)/100 - P*M/10000)
  1 = 1 + (P-M)/100 - P*M/10000
  0 = (P-M)/100 - P*M/10000
</pre></div>
<p>quindi:
</p><div class="example">
<pre class="example-preformatted">(P-M)/100 = P*M/10000
      P-M = P*M/100
</pre></div>
<p>si ricordi che <em class="math">P &gt; 0</em> e <em class="math">M &gt; 0</em>; essendo il membro di destra positivo, deve esserlo anche
quello di sinistra: <strong class="strong">questa uguaglianza &egrave; verificata solo se <em class="math">P &gt; M</em></strong>.  Se il valore
iniziale <em class="math">C_0</em> aumenta di una percentuale <em class="math">P</em>, &egrave; sufficiente una diminuzione percentuale
minore di <em class="math">P</em> per annullare l&rsquo;aumento.
</p>
<ul class="itemize mark-bullet">
<li>Risolvendo rispetto a <em class="math">P</em>, rispondiamo alla domanda: <strong class="strong">data una diminuzione percentuale
<em class="math">M</em>, quanto deve valere un aumento percentuale <em class="math">P</em> per annullarla?</strong>
<div class="example">
<pre class="example-preformatted">P-M = P*M/100
M = P - P*M/100 = P * (1 - M/100)
P = M / (1 - M/100)
  = M / (100/100 - M/100)
  = M / ((100 - M) / 100)
  = 100 * M / (100 - M)
</pre></div>

</li><li>Risolvendo rispetto a <em class="math">M</em>, rispondiamo alla domanda: <strong class="strong">dato un aumento percentuale
<em class="math">P</em>, quanto deve valere una diminuzione percentuale <em class="math">M</em> per annullarlo?</strong>
<div class="example">
<pre class="example-preformatted">P-M = P*M/100
P = M + P*M/100 = M * (1 + P/100)
M = P / (1 + P/100)
  = P / (100/100 + P/100)
  = P / ((100 + P) / 100)
  = 100 * P / (100 + P)
</pre></div>

<blockquote class="quotation">
<p><strong class="strong">Per i lettori pi&uacute; evoluti</strong>: la funzione <em class="math">M = M(P)</em>, per <em class="math">P &gt; 0</em>, &egrave; monotona
crescente con asintoto <em class="math">M == 100</em>; verificabile con
<a class="url" href="https://www.wolframalpha.com/input?i=M+++%3D+100+*+P+%2F+%28100+%2B+P%29">Wolfram Alpha</a>.
</p></blockquote>
</li></ul>

<p>Ma quant&rsquo;&egrave; la differenza tra <em class="math">P</em> e <em class="math">M</em>?  Cio&egrave; quanto vale <em class="math">M</em> in percentuale
rispetto a <em class="math">P</em>?  Indicata con <em class="math">D</em> tale percentuale:
</p><div class="example">
<pre class="example-preformatted">D = 100 * M/P
</pre></div>
<p>essendo <em class="math">0 &lt; M/P &lt; 1</em> risulta <em class="math">0 &lt; D &lt; 100</em>; siccome:
</p><div class="example">
<pre class="example-preformatted">M = 100 * P / (100 + P)
</pre></div>
<p>eliminando <em class="math">M</em>, risulta:
</p><div class="example">
<pre class="example-preformatted">D = 100 * M * 1/P
  = 100 * (100 * P / (100 + P)) * 1/P
  = 100 * 100 / (100 + P)
  = 10000 / (100 + P)
</pre></div>

<p>Al crescere di <em class="math">P</em>: <em class="math">M</em> cresce; <em class="math">D</em> diminuisce, perci&ograve; <em class="math">M</em> cresce pi&uacute;
lentamente di <em class="math">P</em>; maggiore &egrave; la percentuale di aumento <em class="math">P</em>, minore &egrave; la diminuzione
percentuale <em class="math">M</em> sufficiente ad annullare <em class="math">P</em>.
</p>

<h4 class="subsubheading" id="Verifiche-con-programmi-in-C"><span>Verifiche con programmi in C<a class="copiable-link" href="#Verifiche-con-programmi-in-C"> &para;</a></span></h4>


<p>Il seguente programma calcola <em class="math">M</em> a partire da <em class="math">P</em> in modo che <em class="math">C_2 == C_0</em>:
</p><div class="example">
<pre class="example-preformatted">/* demo.c --
   Compilare con: gcc -std=c99 -Wall -lm -o demo demo.c
*/
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
int
main (void)
{
  double P   = 10.0;
  double M   = 100.0 * P / (100.0 + P);
  double D   = 10000.0 / (100.0 + P);
  double C_0 = 1234.56;
  double C_2 = C_0 * (1.0 + P/100.0) * (1.0 - M/100.0);
  printf(&quot;P   = %11.4f%%\n&quot;, P);
  printf(&quot;M   = %11.4f%%\n&quot;, M);
  printf(&quot;D   = %11.4f%%\n&quot;, D);
  printf(&quot;C_0 = %11.4f\n&quot;, C_0);
  printf(&quot;C_2 = %11.4f\n&quot;, C_2);
  exit(EXIT_SUCCESS);
}
/* end of file */
</pre></div>
<p>stampa:
</p><div class="example">
<pre class="example-preformatted">P   =     10.0000%
M   =      9.0909%
D   =     90.9091%
C_0 =   1234.5600
C_2 =   1234.5600
</pre></div>

<p>Il seguente programma calcola <em class="math">P</em> a partire da <em class="math">M</em> in modo che <em class="math">C_2 == C_0</em>:
</p><div class="example">
<pre class="example-preformatted">/* demo.c --
   Compilare con: gcc -std=c99 -Wall -lm -o demo demo.c
*/
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
int
main (void)
{
  double M   = 10.0;
  double P   = 100.0 * M / (100.0 - M);
  double D   = 10000.0 / (100.0 + P);
  double C_0 = 1234.56;
  double C_2 = C_0 * (1.0 + P/100.0) * (1.0 - M/100.0);
  printf(&quot;M   = %11.4f%%\n&quot;, M);
  printf(&quot;P   = %11.4f%%\n&quot;, P);
  printf(&quot;D   = %11.4f%%\n&quot;, D);
  printf(&quot;C_0 = %11.4f\n&quot;, C_0);
  printf(&quot;C_2 = %11.4f\n&quot;, C_2);
  exit(EXIT_SUCCESS);
}
/* end of file */
</pre></div>
<p>stampa:
</p><div class="example">
<pre class="example-preformatted">M   =     10.0000%
P   =     11.1111%
D   =     90.0000%
C_0 =   1234.5600
C_2 =   1234.5600
</pre></div>


</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="Apr-10.html">Guida agli <abbr class="acronym">etf</abbr> incastonata nella pagina</a>, Up: <a href="index.html">Marco&rsquo;s 2022 Weblog</a> &nbsp; </p>
</div>



</body>
</html>
